<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SLAM BURGER | Îß§Ïû• Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Pretendard Font -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #F2F4F6; /* Toss Grey */
            color: #191F28; /* Toss Black */
            -webkit-font-smoothing: antialiased;
        }
        
        /* Custom Scrollbar */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        /* Animations */
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.3s ease-out forwards; }
        
        /* Mobile Touch Adjustments */
        input[type="checkbox"] {
            accent-color: #E60023;
        }
        
        /* Gauge Bar Animation */
        .gauge-fill {
            transition: width 1s ease-in-out;
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slamRed: '#E60023',
                        slamRedDark: '#C2001E',
                        tossBlue: '#3182F6',
                        tossGrey: '#F2F4F6',
                        tossDarkGrey: '#333D4B',
                        tossLightGrey: '#E5E8EB'
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Configuration ---
        const GAS_API_URL = "https://script.google.com/macros/s/AKfycbxxCBEDaIVElgUjmI5c7hf_AdY7qxrRhe0kjlWC3LjHVYoRp06-iUcOv90NAHuW2rIJ/exec";

        // --- Point System Constants ---
        const POINTS = {
            SCRUM_SUBMISSION: 50, // Ïä§ÌÅ¨Îüº Ï†úÏ∂ú Ïãú Í∏∞Î≥∏ Ï†êÏàò
            CHECKLIST_ITEM: 10,   // Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ Ìï≠Î™©Îãπ Ï†êÏàò
            GOAL_MONTHLY: 30000   // ÏõîÍ∞Ñ Î™©Ìëú Ï†êÏàò
        };

        // --- Initial Data Templates ---
        const TEMPLATES = {
            scrum_am: [
                { id: 'am_1', label: 'ÏõîÍ∞Ñ/Ï£ºÍ∞Ñ Î™©Ìëú Î¶¨ÎßàÏù∏Îìú', type: 'text', placeholder: 'Ïù¥Î≤à Îã¨ Î™©Ìëú: Í∞ùÎã®Í∞Ä 5% ÏÉÅÏäπ' },
                { id: 'am_2', label: 'ÏùºÍ∞Ñ Îß§Ï∂ú Î™©Ìëú (Ïõê)', type: 'number', placeholder: 'Ïòà: 1,200,000' },
                { id: 'am_3', label: 'ÏùºÍ∞Ñ Ïö¥ÏòÅ Î™©Ìëú', type: 'text', placeholder: 'Ïòà: Ïò§Ìîà Ï§ÄÎπÑ 10Ïãú ÏôÑÎ£å' },
                { id: 'am_4', label: 'Ïò§ÎäòÏùò Ïï°ÏÖò Î¶¨Ïä§Ìä∏ (3Í∞ÄÏßÄ)', type: 'textarea', placeholder: '1. Ïã†Î©îÎâ¥ Ï∂îÏ≤ú\n2. ÌÖåÏù¥Î∏î Ï≤≠Í≤∞ Ïú†ÏßÄ\n3. ...' },
            ],
            scrum_pm: [
                { id: 'pm_1', label: 'ÏùºÍ∞Ñ Îß§Ï∂ú Îã¨ÏÑ±Ïï° (Ïõê)', type: 'number', placeholder: 'Ïã§Ï†ú Îß§Ï∂ú ÏûÖÎ†•' },
                { id: 'pm_2', label: 'Î™©Ìëú Îã¨ÏÑ±Î•† Î∞è ÌöåÍ≥†', type: 'textarea', placeholder: 'Îã¨ÏÑ±/ÎØ∏Îã¨ÏÑ± ÏõêÏù∏ Î∂ÑÏÑù' },
                { id: 'pm_3', label: 'ÏùµÏùº ÏßëÏ§ë Ï≤¥ÌÅ¨ ÏÇ¨Ìï≠', type: 'textarea', placeholder: 'ÎÇ¥Ïùº Ïò§ÌîàÌåÄ Ï†ÑÎã¨ ÏÇ¨Ìï≠ (Ïû¨Í≥†, Í∏∞Í∏∞ Îì±)' },
                { id: 'pm_4', label: 'ÌäπÏù¥ÏÇ¨Ìï≠ / Ïù¥Ïäà', type: 'textarea', placeholder: 'Í≥†Í∞ù Ïª¥ÌîåÎ†àÏù∏, Í∏∞Í∏∞ Í≥†Ïû• Îì±' },
            ],
            cleaning: [
                { id: 'c_1', category: 'ÌôÄ/ÏûÖÍµ¨', label: 'Îß§Ïû• Ïô∏Î∂Ä/Ïä§ÌÉúÏ∏Ñ Ï≤≠Í≤∞', cycle: 'ÏÉÅÏãú' },
                { id: 'c_2', category: 'ÌôÄ/ÏûÖÍµ¨', label: 'Ï∂úÏûÖÎ¨∏/Ï∞ΩÎ¨∏ Ïú†Î¶¨ Îã¶Í∏∞', cycle: 'ÏÉÅÏãú' },
                { id: 'c_3', category: 'ÌôÄ/ÏûÖÍµ¨', label: 'ÏÖÄÌîÑÎ∞î/ÌîΩÏóÖÎåÄ Ï†ïÎèà', cycle: 'Îß§Ïùº' },
                { id: 'c_4', category: 'Ï£ºÎ∞©', label: 'ÌäÄÍπÄÍ∏∞ Ï£ºÎ≥Ä Í∏∞Î¶ÑÎïå Ï†úÍ±∞', cycle: 'Îß§Ïùº' },
                { id: 'c_5', category: 'Ï£ºÎ∞©', label: 'Ïã±ÌÅ¨ÎåÄ/Î∞∞ÏàòÍµ¨ Í±∞Î¶ÑÎßù ÏÑ∏Ï≤ô', cycle: 'Îß§Ïùº' },
                { id: 'c_6', category: 'Ï£ºÎ∞©', label: 'ÎÉâÏû•/ÎÉâÎèôÍ≥† Ïò®ÎèÑ Ï≤¥ÌÅ¨', cycle: 'Ïò§Ìîà/ÎßàÍ∞ê' },
                { id: 'c_7', category: 'Ï£ºÎ∞©', label: 'Î∞îÎã• Ìä∏ÎûúÏπò Ï≤≠ÏÜå', cycle: 'ÎßàÍ∞ê' },
            ],
            operation: [
                { id: 'op_1', time: '09:00', label: 'Ïò§Ìîà Î≥µÏû• Î∞è ÏúÑÏÉù Ï†êÍ≤Ä' },
                { id: 'op_2', time: '09:30', label: 'Í∏∞Í∏∞(Ìè¨Ïä§, ÌäÄÍπÄÍ∏∞) Ï†ïÏÉÅ ÏûëÎèô ÌôïÏù∏' },
                { id: 'op_3', time: '11:00', label: 'Ï†êÏã¨ ÌîºÌÅ¨ ÎåÄÎπÑ ÏãùÏûêÏû¨ ÏÜåÎ∂Ñ' },
                { id: 'op_4', time: '15:00', label: 'Î∏åÎ†àÏù¥ÌÅ¨ ÌÉÄÏûÑ Ïû¨Í≥† ÌååÏïÖ' },
                { id: 'op_5', time: '21:00', label: 'ÎßàÍ∞ê Ï≤≠ÏÜå Î∞è Î∞úÏ£º ÌôïÏù∏' },
            ]
        };

        // --- Helper Components ---

        const TabButton = ({ isActive, onClick, label, icon }) => (
            <button 
                onClick={onClick}
                className={`flex-1 py-3 px-4 flex items-center justify-center gap-2 text-sm font-bold transition-all rounded-xl ${
                    isActive 
                    ? 'bg-white text-slamRed shadow-md border border-gray-100' 
                    : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'
                }`}
            >
                <i className={`ph ph-${icon} text-lg`}></i>
                {label}
            </button>
        );

        const SectionHeader = ({ title, subTitle }) => (
            <div className="mb-6">
                <h2 className="text-xl font-bold text-gray-900">{title}</h2>
                {subTitle && <p className="text-sm text-gray-500 mt-1">{subTitle}</p>}
            </div>
        );

        const Toast = ({ message, type, onClose }) => {
            useEffect(() => {
                const timer = setTimeout(onClose, 3000);
                return () => clearTimeout(timer);
            }, [onClose]);

            const bgClass = type === 'success' ? 'bg-green-500' : 'bg-red-500';

            return (
                <div className={`fixed bottom-24 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-xl text-white font-bold flex items-center gap-2 z-50 animate-fade-in-up ${bgClass}`}>
                    <i className={`ph ph-${type === 'success' ? 'check-circle' : 'warning-circle'}`}></i>
                    {message}
                </div>
            );
        };

        // --- Main App Component ---

        const App = () => {
            const [activeMenu, setActiveMenu] = useState('scrum');
            const [scrumType, setScrumType] = useState('am'); // 'am' or 'pm'
            const [reportData, setReportData] = useState({}); // Stores user inputs
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [toast, setToast] = useState(null);
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            
            // Point System State (Mock Initial Data for Demo)
            const [totalPoints, setTotalPoints] = useState(12450); 
            const [teamData, setTeamData] = useState([
                { name: 'Í¥ÄÎ¶¨Ïûê(ÎÇò)', points: 4500, avatar: 'user' },
                { name: 'ÍπÄÏä¨Îû®', points: 3200, avatar: 'smiley' },
                { name: 'Ïù¥Î≤ÑÍ±∞', points: 2800, avatar: 'pizza' },
                { name: 'Î∞ïÌå®Ìã∞', points: 1950, avatar: 'hamburger' },
            ]);

            const handleInputChange = (id, value) => {
                setReportData(prev => ({ ...prev, [id]: value }));
            };

            const handleCheckboxChange = (id) => {
                setReportData(prev => ({ ...prev, [id]: !prev[id] }));
            };

            const calculateEarnedPoints = () => {
                let points = 0;
                if (activeMenu === 'scrum') {
                    points = POINTS.SCRUM_SUBMISSION;
                } else {
                    // Checklists: Count checked items * points per item
                    const checkedCount = Object.values(reportData).filter(val => val === true).length;
                    points = checkedCount * POINTS.CHECKLIST_ITEM;
                }
                return points;
            };

            const handleSubmitReport = async () => {
                if (Object.keys(reportData).length === 0) {
                    setToast({ message: 'ÏûÖÎ†•Îêú ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§.', type: 'error' });
                    return;
                }

                setIsSubmitting(true);
                const earnedPoints = calculateEarnedPoints();

                // Prepare Payload for GAS
                const payload = {
                    timestamp: new Date().toISOString(),
                    type: activeMenu,
                    subType: activeMenu === 'scrum' ? scrumType : 'checklist',
                    data: reportData,
                    earnedPoints: earnedPoints, // Send points to DB
                    user: 'Í¥ÄÎ¶¨Ïûê(Í∞ïÎÇ®Ï†ê)'
                };

                try {
                    await fetch(GAS_API_URL, {
                        method: 'POST',
                        mode: 'no-cors', 
                        headers: { 'Content-Type': 'text/plain' },
                        body: JSON.stringify(payload)
                    });

                    // Update Local State (Simulation)
                    setTotalPoints(prev => prev + earnedPoints);
                    setTeamData(prev => {
                        const newTeam = [...prev];
                        newTeam[0].points += earnedPoints; // Add to current user
                        return newTeam.sort((a, b) => b.points - a.points);
                    });

                    setToast({ message: `${earnedPoints}P Ï†ÅÎ¶Ω ÏôÑÎ£å! Î¶¨Ìè¨Ìä∏Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.`, type: 'success' });
                    setReportData({}); // Reset form
                } catch (error) {
                    console.error('Submission Error:', error);
                    setToast({ message: 'Ï†ÑÏÜ°Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.', type: 'error' });
                } finally {
                    setIsSubmitting(false);
                }
            };

            // --- Sub-Views ---

            // 1. Point / Reward View (New)
            const RewardView = () => {
                const percentage = Math.min(Math.round((totalPoints / POINTS.GOAL_MONTHLY) * 100), 100);

                return (
                    <div className="animate-fade-in-up space-y-8">
                        <SectionHeader title="Ïù¥Îã¨Ïùò ÏÑ±Í≥º & Ìè¨Ïù∏Ìä∏" subTitle="Ïö∞Î¶¨ ÌåÄÏù¥ Ìï®Íªò Î™®ÏùÄ Ìè¨Ïù∏Ìä∏ ÌòÑÌô©ÏûÖÎãàÎã§." />

                        {/* Main Point Card */}
                        <div className="bg-white p-8 rounded-3xl shadow-lg border border-gray-100 text-center relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-400 via-slamRed to-purple-500"></div>
                            <div className="text-gray-500 font-medium mb-2">12Ïõî ÎàÑÏ†Å Ìè¨Ïù∏Ìä∏</div>
                            <div className="text-5xl font-extrabold text-gray-900 mb-6 tracking-tight">
                                {totalPoints.toLocaleString()} <span className="text-2xl text-slamRed">P</span>
                            </div>

                            {/* Gauge Bar */}
                            <div className="space-y-2">
                                <div className="flex justify-between text-xs font-bold text-gray-400 px-1">
                                    <span>0</span>
                                    <span>Î™©Ìëú {POINTS.GOAL_MONTHLY.toLocaleString()}</span>
                                </div>
                                <div className="w-full bg-gray-100 rounded-full h-6 relative overflow-hidden">
                                    <div 
                                        className="gauge-fill bg-gradient-to-r from-orange-400 to-slamRed h-full rounded-full shadow-lg flex items-center justify-end pr-3" 
                                        style={{ width: `${percentage}%` }}
                                    >
                                        <span className="text-xs font-bold text-white drop-shadow-md">{percentage}%</span>
                                    </div>
                                </div>
                                <div className="text-xs text-gray-400 mt-2">
                                    Î™©Ìëú Îã¨ÏÑ± Ïãú <span className="text-slamRed font-bold">Ï†ÑÏ≤¥ ÌöåÏãù ÏßÄÏõêÍ∏à</span> ÏßÄÍ∏â! üçñ
                                </div>
                            </div>
                        </div>

                        {/* Leaderboard */}
                        <div className="bg-white rounded-3xl p-6 shadow-sm border border-gray-100">
                            <h3 className="font-bold text-gray-900 mb-6 flex items-center gap-2">
                                <i className="ph ph-trophy text-yellow-500 text-xl"></i> ÌåÄÏõêÎ≥Ñ Í∏∞Ïó¨ÎèÑ
                            </h3>
                            <div className="space-y-4">
                                {teamData.map((member, idx) => (
                                    <div key={idx} className="flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 transition-colors">
                                        <div className="flex items-center gap-4">
                                            <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white shadow-sm ${idx === 0 ? 'bg-yellow-400' : idx === 1 ? 'bg-gray-400' : idx === 2 ? 'bg-orange-400' : 'bg-gray-200 text-gray-500'}`}>
                                                {idx + 1}
                                            </div>
                                            <div className="flex items-center gap-3">
                                                <div className="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-xl">
                                                    <i className={`ph ph-${member.avatar}`}></i>
                                                </div>
                                                <span className="font-bold text-gray-800">{member.name}</span>
                                            </div>
                                        </div>
                                        <div className="font-bold text-slamRed">
                                            {member.points.toLocaleString()} P
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                );
            };

            const ScrumView = () => (
                <div className="animate-fade-in-up space-y-6">
                    <SectionHeader title="Îç∞ÏùºÎ¶¨ Ïä§ÌÅ¨Îüº" subTitle="Ï†úÏ∂ú Ïãú +50 Ìè¨Ïù∏Ìä∏ Ï†ÅÎ¶Ω" />
                    
                    {/* AM/PM Toggle */}
                    <div className="flex bg-gray-100 p-1 rounded-xl mb-6">
                        <button 
                            onClick={() => setScrumType('am')}
                            className={`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${scrumType === 'am' ? 'bg-white shadow text-slamRed' : 'text-gray-500'}`}
                        >
                            Ïò§Ï†Ñ (Ïò§Ìîà)
                        </button>
                        <button 
                            onClick={() => setScrumType('pm')}
                            className={`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${scrumType === 'pm' ? 'bg-white shadow text-slamRed' : 'text-gray-500'}`}
                        >
                            Ïò§ÌõÑ (ÎßàÍ∞ê)
                        </button>
                    </div>

                    <div className="bg-white rounded-3xl p-6 shadow-sm border border-gray-100 space-y-6">
                        {(scrumType === 'am' ? TEMPLATES.scrum_am : TEMPLATES.scrum_pm).map(field => (
                            <div key={field.id}>
                                <label className="block text-sm font-bold text-gray-700 mb-2">
                                    {field.label}
                                </label>
                                {field.type === 'textarea' ? (
                                    <textarea
                                        className="w-full p-4 bg-gray-50 border border-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-slamRed/20 focus:border-slamRed transition-all resize-none text-sm"
                                        rows="3"
                                        placeholder={field.placeholder}
                                        value={reportData[field.id] || ''}
                                        onChange={(e) => handleInputChange(field.id, e.target.value)}
                                    ></textarea>
                                ) : (
                                    <input
                                        type={field.type}
                                        className="w-full p-4 bg-gray-50 border border-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-slamRed/20 focus:border-slamRed transition-all text-sm"
                                        placeholder={field.placeholder}
                                        value={reportData[field.id] || ''}
                                        onChange={(e) => handleInputChange(field.id, e.target.value)}
                                    />
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            );

            const CleaningView = () => {
                const totalItems = TEMPLATES.cleaning.length;
                const checkedCount = TEMPLATES.cleaning.filter(item => reportData[item.id]).length;
                const progress = Math.round((checkedCount / totalItems) * 100);

                return (
                    <div className="animate-fade-in-up space-y-6">
                        <div className="flex justify-between items-end">
                            <SectionHeader title="Ï≤≠Í≤∞ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏" subTitle="Ìï≠Î™© Îãπ +10 Ìè¨Ïù∏Ìä∏ Ï†ÅÎ¶Ω" />
                            <div className="text-right mb-6">
                                <span className="text-3xl font-bold text-slamRed">{progress}%</span>
                                <span className="text-xs text-gray-400 block">ÏßÑÌñâÎ•†</span>
                            </div>
                        </div>

                        <div className="space-y-3">
                            {TEMPLATES.cleaning.map((item, idx) => (
                                <label key={item.id} className={`flex items-center p-4 rounded-2xl border transition-all cursor-pointer ${reportData[item.id] ? 'bg-red-50 border-slamRed/30' : 'bg-white border-gray-100 hover:border-gray-300'}`}>
                                    <div className="flex-1">
                                        <div className="flex items-center gap-2 mb-1">
                                            <span className="text-xs font-bold text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded">{item.category}</span>
                                            <span className="text-xs text-gray-400">{item.cycle}</span>
                                        </div>
                                        <div className={`font-semibold ${reportData[item.id] ? 'text-slamRed' : 'text-gray-800'}`}>{item.label}</div>
                                    </div>
                                    <div className="relative">
                                        <input 
                                            type="checkbox" 
                                            className="w-6 h-6 rounded-lg border-2 border-gray-300 checked:bg-slamRed checked:border-slamRed transition-all"
                                            checked={!!reportData[item.id]}
                                            onChange={() => handleCheckboxChange(item.id)}
                                        />
                                    </div>
                                </label>
                            ))}
                        </div>
                    </div>
                );
            };

            const OperationView = () => (
                <div className="animate-fade-in-up space-y-6">
                    <SectionHeader title="Ïö¥ÏòÅ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏" subTitle="Ìï≠Î™© Îãπ +10 Ìè¨Ïù∏Ìä∏ Ï†ÅÎ¶Ω" />
                    
                    <div className="relative border-l-2 border-gray-100 ml-4 space-y-8 my-6">
                        {TEMPLATES.operation.map((item, idx) => {
                            const isChecked = !!reportData[item.id];
                            return (
                                <div key={item.id} className="relative pl-8">
                                    <span className={`absolute -left-[9px] top-1 w-4 h-4 rounded-full border-2 transition-colors ${isChecked ? 'bg-slamRed border-slamRed' : 'bg-white border-gray-300'}`}></span>
                                    
                                    <label className={`block cursor-pointer transition-all ${isChecked ? 'opacity-100' : 'opacity-80 hover:opacity-100'}`}>
                                        <span className="text-xs font-bold text-slamRed bg-red-50 px-2 py-1 rounded mb-1 inline-block">{item.time}</span>
                                        <div className="flex items-center gap-3 bg-white p-4 rounded-xl border border-gray-100 shadow-sm mt-2">
                                            <input 
                                                type="checkbox" 
                                                className="w-5 h-5 rounded accent-slamRed"
                                                checked={isChecked}
                                                onChange={() => handleCheckboxChange(item.id)}
                                            />
                                            <span className={`font-medium ${isChecked ? 'text-gray-800 line-through decoration-slamRed decoration-2' : 'text-gray-800'}`}>
                                                {item.label}
                                            </span>
                                        </div>
                                    </label>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );

            // --- Layout ---
            return (
                <div className="min-h-screen flex flex-col lg:flex-row bg-[#F2F4F6]">
                    {/* Sidebar (Desktop) / Header (Mobile) */}
                    <header className="lg:w-64 bg-white lg:min-h-screen border-b lg:border-r border-gray-200 sticky top-0 lg:fixed z-30">
                        <div className="flex justify-between items-center p-5 lg:p-8">
                            <h1 className="text-2xl font-extrabold text-slamRed tracking-tighter">SLAM SYS</h1>
                            <button onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} className="lg:hidden p-2">
                                <i className={`ph ph-${isMobileMenuOpen ? 'x' : 'list'} text-2xl text-gray-700`}></i>
                            </button>
                        </div>

                        <nav className={`${isMobileMenuOpen ? 'block' : 'hidden'} lg:block px-4 pb-4 lg:pb-0 bg-white absolute w-full lg:static shadow-lg lg:shadow-none border-b lg:border-none border-gray-100`}>
                            {/* Points Summary Card in Nav */}
                            <div className="lg:hidden mx-4 mb-4 p-4 bg-slamRed text-white rounded-xl shadow-lg" onClick={() => { setActiveMenu('points'); setIsMobileMenuOpen(false); }}>
                                <div className="text-xs opacity-80 mb-1">ÎÇ¥ Ìè¨Ïù∏Ìä∏</div>
                                <div className="font-bold text-xl flex items-center gap-2">
                                    <i className="ph ph-coin"></i> {totalPoints.toLocaleString()}
                                </div>
                            </div>

                            {[
                                { id: 'scrum', label: 'Îç∞ÏùºÎ¶¨ Ïä§ÌÅ¨Îüº', icon: 'clipboard-text' },
                                { id: 'operation', label: 'Ïö¥ÏòÅ Ï≤¥ÌÅ¨', icon: 'clock' },
                                { id: 'cleaning', label: 'Ï≤≠Í≤∞ Í¥ÄÎ¶¨', icon: 'sparkle' },
                                { id: 'points', label: 'Ìè¨Ïù∏Ìä∏ ÌòÑÌô©', icon: 'trophy' }, // New Menu
                            ].map(menu => (
                                <button
                                    key={menu.id}
                                    onClick={() => { setActiveMenu(menu.id); setIsMobileMenuOpen(false); }}
                                    className={`w-full flex items-center gap-3 px-5 py-4 rounded-xl mb-1 transition-all font-bold ${
                                        activeMenu === menu.id 
                                        ? 'bg-slamRed text-white shadow-md shadow-red-200' 
                                        : 'text-gray-500 hover:bg-gray-50'
                                    }`}
                                >
                                    <i className={`ph ph-${menu.icon} text-xl`}></i>
                                    {menu.label}
                                </button>
                            ))}
                            
                            <div className="mt-8 px-4 py-6 bg-gray-50 rounded-2xl mx-1">
                                <div className="text-xs text-gray-400 mb-1">ÌòÑÏû¨ Îß§Ïû•</div>
                                <div className="font-bold text-gray-800">Ïä¨Îû®Î≤ÑÍ±∞ Í∞ïÎÇ®Ï†ê</div>
                                <div className="text-xs text-gray-400 mt-4 mb-1">Ïù¥Î≤àÎã¨ ÎàÑÏ†Å</div>
                                <div className="font-bold text-slamRed flex items-center gap-2 text-lg">
                                    <i className="ph ph-coin-vertical"></i>
                                    {totalPoints.toLocaleString()}
                                </div>
                            </div>
                        </nav>
                    </header>

                    {/* Main Content */}
                    <main className="flex-1 lg:ml-64 p-5 lg:p-10 pb-32 max-w-3xl mx-auto w-full">
                        {activeMenu === 'scrum' && <ScrumView />}
                        {activeMenu === 'cleaning' && <CleaningView />}
                        {activeMenu === 'operation' && <OperationView />}
                        {activeMenu === 'points' && <RewardView />}
                    </main>

                    {/* Bottom Action Bar (Hidden in Points View) */}
                    {activeMenu !== 'points' && (
                        <div className="fixed bottom-0 left-0 lg:left-64 right-0 p-4 bg-white border-t border-gray-100 flex items-center justify-between z-20 shadow-[0_-5px_20px_rgba(0,0,0,0.05)]">
                            <div className="hidden sm:block text-sm text-gray-500 pl-4">
                                ÏûëÏÑ± Ïãú Ìè¨Ïù∏Ìä∏Í∞Ä ÏûêÎèô Ï†ÅÎ¶ΩÎê©ÎãàÎã§.
                            </div>
                            <button 
                                onClick={handleSubmitReport}
                                disabled={isSubmitting}
                                className={`w-full sm:w-auto px-8 py-3.5 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition-all ${
                                    isSubmitting ? 'bg-gray-400 cursor-not-allowed' : 'bg-slamRed hover:bg-slamRedDark active:scale-95'
                                }`}
                            >
                                {isSubmitting ? (
                                    <><i className="ph ph-spinner animate-spin text-xl"></i> Ï†ÅÎ¶Ω Ï§ë...</>
                                ) : (
                                    <><i className="ph ph-paper-plane-right text-xl"></i> Ï†úÏ∂ú Î∞è Ìè¨Ïù∏Ìä∏ Î∞õÍ∏∞</>
                                )}
                            </button>
                        </div>
                    )}

                    {/* Toast Message */}
                    {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
