<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>레스토지니 | 사장님을 위한 AI 운영 파트너</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Chosen Palette: Based on Demo Site (Indigo, Slate, White) -->
    <!-- Application Structure Plan: One-page landing site following the 기획서. Sections: Hero (Hook), Problem, Solution (Turning Point), Core Features, Integration Vision, Final CTA (Waitlist). Designed as a funnel to capture leads pre-launch. Sticky header for persistent CTA. ChannelTalk integrated. Waitlist form connected via Google Apps Script. -->
    <!-- Visualization & Content Choices: Based on 기획서 & Demo. Hero: Benefit-driven headline. Problem: Empathetic stats/icons. Solution: UI mockup showing data->insight. Features: Tab/Accordion with benefit-focused descriptions & UI mockups. Integration: Logo wall. CTA: Simple form with clear benefits. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        html { scroll-behavior: smooth; }
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-size: 15px; /* Mobile base */ }
        .hero-gradient { background: linear-gradient(135deg, #4f46e5 0%, #3730a3 100%); }
        .sticky-header { transition: all 0.3s ease-in-out; }
        .feature-icon { width: 50px; height: 50px; } /* Adjust icon size */
        .mockup-img { border: 1px solid #e5e7eb; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        .fade-in { animation: fadeIn 1s ease-out forwards; opacity: 0; }
        @keyframes fadeIn { to { opacity: 1; } }
        /* Desktop styles */
        @media (min-width: 768px) {
            body { font-size: 16px; /* Desktop base */ }
            .feature-icon { width: 64px; height: 64px; }
        }
        @media (min-width: 1280px) {
            .container.main-container { max-width: 1200px; } /* Max width for large screens */
        }
         /* Modal Styles */
        #waitlist-modal.hidden, #form-success-modal.hidden, #form-error-modal.hidden { display: none; } /* Added error modal */
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .modal-leave { opacity: 1; transform: scale(1); }
        .modal-leave-active { opacity: 0; transform: scale(0.95); transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
         .spinner {
             border: 4px solid rgba(255, 255, 255, 0.3);
             border-radius: 50%;
             border-top-color: #fff;
             width: 1.25rem; /* 20px */
             height: 1.25rem; /* 20px */
             animation: spin 1s ease-in-out infinite;
         }
         @keyframes spin {
           to { transform: rotate(360deg); }
         }
    </style>
</head>
<body class="text-slate-700">

    <!-- Sticky Header -->
    <div id="sticky-header" class="sticky top-0 z-40 bg-white shadow-md transition duration-300 ease-in-out">
        <div class="container main-container mx-auto px-4 py-3 flex justify-between items-center">
            <img src="https://rg-proto.jp.ngrok.io/logo_purple.png" alt="RestoGenie 로고" class="h-8 md:h-10" onerror="this.onerror=null;this.src='https://placehold.co/150x40/ffffff/4f46e5?text=RestoGenie';">
            <a href="#waitlist" class="bg-indigo-600 text-white font-bold py-2 px-4 md:py-2.5 md:px-6 rounded-full text-xs md:text-sm hover:bg-indigo-700 transition">
                대기자 명단 등록
            </a>
        </div>
    </div>

    <!-- Section 1: Hero -->
    <section class="hero-gradient text-white pt-24 pb-20 md:pt-32 md:pb-28 px-4 fade-in">
        <div class="container main-container mx-auto max-w-4xl text-center">
            <h1 class="text-3xl md:text-5xl font-extrabold mb-4 leading-tight">사장님은 음식에만 집중하세요.<br>돈 새는 구멍은 AI가 막아드립니다.</h1>
            <p class="text-base md:text-xl text-indigo-200 max-w-2xl mx-auto mb-8">
                레스토지니는 외식업 사장님을 위한 AI 운영 파트너입니다.<br class="hidden md:inline"> 재고, 인력, 마케팅을 자동화하여 숨은 이익을 찾아드립니다.
            </p>
            <a href="#waitlist" class="inline-block bg-white text-indigo-700 font-bold py-3 px-8 rounded-full text-base md:text-lg hover:bg-indigo-50 transition shadow-lg">
                <i class="fa-solid fa-gift mr-2"></i> [무료] 대기자 명단 등록하고 런칭 혜택 받기
            </a>
            <p class="mt-4 text-xs md:text-sm text-indigo-300">12월 정식 런칭 | 첫 100개 파트너 매장 한정 혜택</p>
        </div>
    </section>

    <!-- Section 2: Problem -->
    <section class="py-16 md:py-24 px-4 bg-slate-100">
        <div class="container main-container mx-auto max-w-5xl">
            <h2 class="text-2xl md:text-4xl font-bold text-slate-900 text-center mb-12 md:mb-16">사장님, 혹시 이런 고민 하고 계신가요?</h2>
            <div class="grid md:grid-cols-3 gap-8 md:gap-12 text-center">
                <div class="bg-white p-6 rounded-lg shadow-sm fade-in" style="animation-delay: 0.2s;">
                    <i class="fa-solid fa-sack-xmark text-4xl md:text-5xl text-red-500 mb-4"></i>
                    <h3 class="text-lg md:text-xl font-bold mb-2">예측 불가능한 비용</h3>
                    <p class="text-sm md:text-base text-slate-600">버려지는 식자재, 눈덩이처럼 불어나는 수수료... 매달 정산 후 남는 게 없으신가요?</p>
                    <p class="text-xs text-slate-400 mt-3">(재고 손실 비용, 높은 배달 수수료)</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm fade-in" style="animation-delay: 0.4s;">
                    <i class="fa-solid fa-person-walking-dashed-line-arrow-right text-4xl md:text-5xl text-amber-500 mb-4"></i>
                    <h3 class="text-lg md:text-xl font-bold mb-2">끝없는 인력난</h3>
                    <p class="text-sm md:text-base text-slate-600">오늘도 직원이 그만뒀나요? 공고를 내도 연락조차 오지 않는 현실...</p>
                     <p class="text-xs text-slate-400 mt-3">(높은 이직률, 구인 어려움)</p>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-sm fade-in" style="animation-delay: 0.6s;">
                     <i class="fa-solid fa-bullhorn text-4xl md:text-5xl text-blue-500 mb-4"></i>
                    <h3 class="text-lg md:text-xl font-bold mb-2">막막한 마케팅</h3>
                    <p class="text-sm md:text-base text-slate-600">배달앱 광고, SNS 운영... 뭐부터 해야 할지, 효과는 있는지 알 수 없어 답답하시죠?</p>
                     <p class="text-xs text-slate-400 mt-3">(광고 효율 측정 불가, 전문성 부족)</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Turning Point -->
    <section class="py-16 md:py-24 px-4">
         <div class="container main-container mx-auto max-w-5xl text-center">
             <h2 class="text-2xl md:text-4xl font-bold text-slate-900 mb-4">이제, 똑똑한 AI 파트너 '레스토지니'에게 맡기세요.</h2>
             <p class="text-base md:text-lg text-slate-600 mb-12 max-w-3xl mx-auto">
                레스토지니는 흩어져 있는 매장 데이터를 하나로 모아, 사장님이 놓치고 있던 문제의 원인을 찾아내고 해결책까지 제시합니다. 복잡한 운영은 AI에게 맡기고, 사장님은 가장 중요한 일에 집중할 수 있습니다.
             </p>
             <img src="https://rg-proto.jp.ngrok.io/images/solution_overview.png" alt="레스토지니 솔루션 개요 이미지" class="mx-auto mockup-img fade-in max-w-full md:max-w-4xl" onerror="this.onerror=null;this.src='https://placehold.co/1200x600/e2e8f0/94a3b8?text=Demo+Image';">
             <p class="text-xs text-slate-400 mt-2">* 이해를 돕기 위한 예시 화면입니다.</p>
        </div>
    </section>

    <!-- Section 4: Core Features -->
    <section class="py-16 md:py-24 px-4 bg-slate-100">
        <div class="container main-container mx-auto max-w-5xl">
            <h2 class="text-2xl md:text-4xl font-bold text-slate-900 text-center mb-12 md:mb-16">레스토지니 핵심 기능</h2>
            <div class="space-y-12 md:space-y-16">
                <!-- Feature 1: Inventory -->
                <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center fade-in">
                    <div class="order-2 md:order-1">
                        <span class="inline-block bg-red-100 text-red-800 text-xs font-semibold px-3 py-1 rounded-full mb-3">비용 절감</span>
                        <h3 class="text-xl md:text-3xl font-bold text-slate-800 mb-4">식자재 폐기율 0%에 도전하세요.</h3>
                        <p class="text-sm md:text-base text-slate-600 mb-6">판매 데이터를 분석해 필요한 식자재를 정확히 예측하고, 유통기한 임박 상품을 먼저 사용하도록 알려줍니다. <span class="font-semibold text-indigo-600">(Pro 이상 출시 예정)</span> 자동 발주 기능으로 시간과 비용을 동시에 잡으세요.</p>
                        <ul class="space-y-2 text-sm text-slate-600">
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> AI 수요 예측 기반 발주량 제안</li>
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> 유통기한 임박 알림</li>
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> (출시 예정) 원클릭 자동 발주</li>
                        </ul>
                    </div>
                    <div class="order-1 md:order-2">
                         <img src="https://rg-proto.jp.ngrok.io/images/feature_inventory.png" alt="AI 재고관리 화면" class="mx-auto mockup-img max-w-full" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/94a3b8?text=Feature+Mockup';">
                    </div>
                </div>
                 <!-- Feature 2: Scheduling -->
                <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center fade-in">
                     <div class="order-1">
                          <img src="https://rg-proto.jp.ngrok.io/images/feature_schedule.png" alt="AI 인력관리 화면" class="mx-auto mockup-img max-w-full" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/94a3b8?text=Feature+Mockup';">
                    </div>
                    <div class="order-2">
                        <span class="inline-block bg-amber-100 text-amber-800 text-xs font-semibold px-3 py-1 rounded-full mb-3">인력 관리</span>
                        <h3 class="text-xl md:text-3xl font-bold text-slate-800 mb-4">더 이상 인력 문제로 골치 썩지 마세요.</h3>
                        <p class="text-sm md:text-base text-slate-600 mb-6">과거 매출, 날씨, 주변 이벤트 데이터를 기반으로 최적의 근무 인원을 추천합니다. <span class="font-semibold text-indigo-600">(Pro 이상 출시 예정)</span> 직원의 피로도는 낮추고, 고객 만족도는 높이는 황금 스케줄을 AI가 만들어 드립니다.</p>
                       <ul class="space-y-2 text-sm text-slate-600">
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> 시간대별 최적 근무 인원 추천</li>
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> 매출/날씨/이벤트 연동 예측</li>
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> (출시 예정) 자동 스케줄 생성 및 공유</li>
                        </ul>
                    </div>
                </div>
                 <!-- Feature 3: Marketing -->
                <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center fade-in">
                     <div class="order-2 md:order-1">
                        <span class="inline-block bg-blue-100 text-blue-800 text-xs font-semibold px-3 py-1 rounded-full mb-3">매출 증대</span>
                        <h3 class="text-xl md:text-3xl font-bold text-slate-800 mb-4">단골손님, AI가 알아서 만들어 드립니다.</h3>
                        <p class="text-sm md:text-base text-slate-600 mb-6">방문 빈도, 선호 메뉴를 분석해 고객 그룹별로 맞춤형 할인 쿠폰이나 신메뉴 소식을 자동으로 발송합니다. 비싼 광고 없이 재방문율을 극대화하세요.</p>
                        <ul class="space-y-2 text-sm text-slate-600">
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> 고객 세분화 및 타겟 마케팅</li>
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> AI 기반 프로모션 자동 생성/발송</li>
                             <li><i class="fa-solid fa-check text-indigo-500 w-5"></i> 광고 채널(배달앱, SNS) ROAS 분석</li>
                        </ul>
                    </div>
                    <div class="order-1 md:order-2">
                         <img src="https://rg-proto.jp.ngrok.io/images/feature_marketing.png" alt="AI 마케팅 화면" class="mx-auto mockup-img max-w-full" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/94a3b8?text=Feature+Mockup';">
                    </div>
                </div>
            </div>
        </div>
    </section>

     <!-- Section 5: Integration -->
    <section class="py-16 md:py-24 px-4">
        <div class="container main-container mx-auto max-w-5xl text-center">
            <h2 class="text-2xl md:text-4xl font-bold text-slate-900 mb-4">사장님이 이미 사용 중인 프로그램과<br class="md:hidden"> 완벽하게 연동됩니다.</h2>
             <p class="text-base md:text-lg text-slate-600 mb-12 max-w-3xl mx-auto">
                배달의민족, 요기요, 쿠팡이츠 같은 배달앱부터 주요 POS 시스템까지. 레스토지니는 흩어진 데이터를 한 곳으로 모아주는 허브 역할을 합니다. 교체할 필요 없이, 지금 그대로 더 강력해지세요.
             </p>
             <div class="flex flex-wrap justify-center items-center gap-6 md:gap-10 fade-in">
                 <img src="https://rg-proto.jp.ngrok.io/images/logo_baemin.png" alt="배달의민족 로고" class="h-8 md:h-10 opacity-70" onerror="this.onerror=null;this.style.display='none'">
                 <img src="https://rg-proto.jp.ngrok.io/images/logo_yogiyo.png" alt="요기요 로고" class="h-8 md:h-10 opacity-70" onerror="this.onerror=null;this.style.display='none'">
                 <img src="https://rg-proto.jp.ngrok.io/images/logo_coupangeats.png" alt="쿠팡이츠 로고" class="h-8 md:h-10 opacity-70" onerror="this.onerror=null;this.style.display='none'">
                 <img src="https://rg-proto.jp.ngrok.io/images/logo_okpos.png" alt="OKPOS 로고" class="h-8 md:h-10 opacity-70" onerror="this.onerror=null;this.style.display='none'">
                 <img src="https://rg-proto.jp.ngrok.io/images/logo_easypos.png" alt="EasyPOS 로고" class="h-8 md:h-10 opacity-70" onerror="this.onerror=null;this.style.display='none'">
                 <img src="https://rg-proto.jp.ngrok.io/images/logo_tossplace.png" alt="토스플레이스 로고" class="h-8 md:h-10 opacity-70" onerror="this.onerror=null;this.style.display='none'">
                 <span class="text-slate-400 font-medium">+ 더 많은 연동 지원 예정</span>
             </div>
        </div>
    </section>

    <!-- Section 6: Waitlist CTA -->
    <section id="waitlist" class="py-16 md:py-24 px-4 bg-indigo-700 text-white">
        <div class="container main-container mx-auto max-w-3xl text-center">
            <h2 class="text-2xl md:text-4xl font-bold mb-4">성공하는 매장의 미래, 먼저 경험하세요.</h2>
            <p class="text-indigo-200 mb-8 md:mb-12">지금 대기자 명단에 등록하시면 특별한 런칭 혜택을 가장 먼저 받아보실 수 있습니다.</p>

            <ul class="text-left max-w-md mx-auto space-y-3 mb-8 md:mb-12 text-indigo-100 text-sm md:text-base">
                <li class="flex items-center"><i class="fa-solid fa-star text-amber-400 mr-3"></i> 가장 먼저 레스토지니 도입 기회 제공</li>
                <li class="flex items-center"><i class="fa-solid fa-tags text-amber-400 mr-3"></i> 런칭 기념, 첫 3개월 50% 할인 혜택</li>
                <li class="flex items-center"><i class="fa-solid fa-envelope-open-text text-amber-400 mr-3"></i> 외식업 운영 노하우 뉴스레터 무료 구독</li>
            </ul>

            <form id="waitlist-form" class="max-w-lg mx-auto bg-white p-6 md:p-8 rounded-lg shadow-xl text-left space-y-4">
                 <div>
                    <label for="storeName" class="block text-sm font-medium text-slate-700 mb-1">매장명</label>
                    <input type="text" id="storeName" name="storeName" required class="w-full border-slate-300 rounded-md shadow-sm text-slate-900" placeholder="매장명을 입력하세요">
                 </div>
                 <div>
                    <label for="name" class="block text-sm font-medium text-slate-700 mb-1">이름</label>
                    <input type="text" id="name" name="name" required class="w-full border-slate-300 rounded-md shadow-sm text-slate-900" placeholder="성함을 입력하세요">
                 </div>
                 <div>
                    <label for="phone" class="block text-sm font-medium text-slate-700 mb-1">연락처</label>
                    <input type="tel" id="phone" name="phone" required class="w-full border-slate-300 rounded-md shadow-sm text-slate-900" placeholder="'-' 없이 숫자만 입력하세요">
                 </div>
                <div>
                    <label for="email" class="block text-sm font-medium text-slate-700 mb-1">이메일</label>
                    <input type="email" id="email" name="email" required class="w-full border-slate-300 rounded-md shadow-sm text-slate-900" placeholder="이메일 주소를 입력하세요">
                </div>
                <div class="flex items-start">
                     <input type="checkbox" id="privacy" name="privacy" required class="h-4 w-4 text-indigo-600 border-gray-300 rounded mt-0.5">
                     <label for="privacy" class="ml-2 block text-xs md:text-sm text-slate-600">개인정보 처리방침<a href="#" class="underline ml-1">(보기)</a>에 동의합니다.</label>
                </div>
                <button type="submit" id="submit-button" class="w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-md hover:bg-indigo-700 transition text-base md:text-lg flex justify-center items-center relative h-12">
                    <span id="submit-text" class="flex items-center justify-center">런칭 혜택 받고 대기자 등록하기 <i class="fa-solid fa-arrow-right ml-2"></i></span>
                    <span id="submit-spinner" class="hidden spinner"></span>
                </button>
            </form>
        </div>
    </section>

     <!-- Footer -->
    <footer class="py-8 px-4 text-center text-xs text-slate-500">
        <img src="https://rg-proto.jp.ngrok.io/logo_gray.png" alt="RestoGenie 로고" class="h-6 mx-auto mb-4" onerror="this.onerror=null;this.src='https://placehold.co/120x30/f8fafc/a3a3a3?text=RestoGenie';">
        <p>(주)컨트롤엠 | 사업자등록번호: XXX-XX-XXXXX | 대표: 원종관</p>
        <p>서울특별시 강남구 언주로 149길 16</p>
        <p>Email: contact@ctrl-m.com</p>
        <p class="mt-2"><a href="#" class="hover:text-indigo-600">개인정보 처리방침</a> | <a href="#" class="hover:text-indigo-600">이용약관</a></p>
        <p class="mt-2">&copy; 2025 Ctrl-M Inc. All rights reserved.</p>
    </footer>

    <!-- Form Success Modal -->
    <div id="form-success-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 modal-enter">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-sm mx-auto p-6 text-center">
            <i class="fa-solid fa-check-circle text-5xl text-green-500 mb-4"></i>
            <h3 class="text-xl font-bold text-slate-800 mb-2">접수 완료!</h3>
            <p class="text-slate-600 mb-6 text-sm">레스토지니 대기자 명단에 등록되었습니다.<br>런칭 소식을 가장 먼저 알려드릴게요!</p>
            <button id="success-modal-close" class="w-full bg-indigo-600 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-700 transition text-sm">확인</button>
        </div>
    </div>

     <!-- Form Error Modal -->
    <div id="form-error-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 modal-enter">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-sm mx-auto p-6 text-center">
            <i class="fa-solid fa-circle-exclamation text-5xl text-red-500 mb-4"></i>
            <h3 class="text-xl font-bold text-slate-800 mb-2">오류 발생</h3>
            <p id="error-modal-message" class="text-slate-600 mb-6 text-sm">죄송합니다. 요청 처리 중 오류가 발생했습니다.<br>잠시 후 다시 시도하거나 고객센터로 문의해주세요.</p>
            <button id="error-modal-close" class="w-full bg-red-600 text-white font-bold py-2 px-4 rounded-md hover:bg-red-700 transition text-sm">확인</button>
        </div>
    </div>


    <!-- Channel Talk Plugin Script -->
    <script>
      (function(){var w=window;if(w.ChannelIO){return w.console.error("ChannelIO script included twice.");}var ch=function(){ch.c(arguments);};ch.q=[];ch.c=function(args){ch.q.push(args);};w.ChannelIO=ch;function l(){if(w.ChannelIOInitialized){return;}w.ChannelIOInitialized=true;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src="https://cdn.channel.io/plugin/ch-plugin-web.js";var x=document.getElementsByTagName("script")[0];if(x.parentNode){x.parentNode.insertBefore(s,x);}}if(document.readyState==="complete"){l();}else{w.addEventListener("DOMContentLoaded",l);w.addEventListener("load",l);}})();
      ChannelIO('boot', { "pluginKey": "6730846e-0cb4-4d5e-8997-7d768be6b050" });
    </script>
     <script>
        document.addEventListener('DOMContentLoaded', function () {

            const waitlistForm = document.getElementById('waitlist-form');
            const successModal = document.getElementById('form-success-modal');
            const successModalClose = document.getElementById('success-modal-close');
            const errorModal = document.getElementById('form-error-modal');
            const errorModalClose = document.getElementById('error-modal-close');
            const errorModalMessage = document.getElementById('error-modal-message');
            const submitButton = document.getElementById('submit-button');
            const submitText = document.getElementById('submit-text');
            const submitSpinner = document.getElementById('submit-spinner');

             // --- !!! Google Apps Script 웹 앱 URL !!! ---
             const GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxuDvGKClt8EIobA0eA4fVmpuxpf3nVeC9SgWPeUDQMKeJmk9wx7-EHP0VScFJ1JM1I2Q/exec';

            if (waitlistForm) {
                waitlistForm.addEventListener('submit', async function (e) {
                    e.preventDefault();

                    const storeName = document.getElementById('storeName').value.trim();
                    const name = document.getElementById('name').value.trim();
                    const phone = document.getElementById('phone').value.trim();
                    const email = document.getElementById('email').value.trim();
                    const privacy = document.getElementById('privacy').checked;

                    if (!storeName || !name || !phone || !email) { alert('모든 필수 항목을 입력해주세요.'); return; }
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(email)) { alert('올바른 이메일 주소를 입력해주세요.'); return; }
                    const phoneCleaned = phone.replace(/-/g, '');
                    const phoneRegex = /^\d{10,11}$/; // 10-11자리 숫자
                     if (!phoneRegex.test(phoneCleaned)) { alert('올바른 연락처 형식(10-11자리 숫자)을 입력해주세요.'); return; }
                    if (!privacy) { alert('개인정보 처리방침에 동의해주세요.'); return; }

                    submitButton.disabled = true;
                    submitText.classList.add('invisible');
                    submitSpinner.classList.remove('hidden');

                    const formData = new FormData(waitlistForm);
                    const data = Object.fromEntries(formData.entries());

                    try {
                        const response = await fetch(GOOGLE_APPS_SCRIPT_URL, {
                            method: 'POST',
                             // Apps Script doPost(e)는 'application/x-www-form-urlencoded'를 기본으로 파싱
                             // e.parameter.storeName 등으로 접근
                            body: formData, 
                        });

                        // 'response'가 불투명(opaque) 응답일 수 있음 (CORS 리디렉션 등)
                        // 이 경우, 성공으로 간주하고 팝업을 띄움
                        if (response.ok || response.type === 'opaque') {
                            console.log('Form submission succeeded (or assumed success for opaque response).');
                            waitlistForm.reset();
                            successModal.classList.remove('hidden', 'modal-leave-active', 'modal-leave');
                            successModal.classList.add('modal-enter', 'modal-enter-active');
                            setTimeout(() => successModal.classList.remove('modal-enter', 'modal-enter-active'), 300);
                        } else {
                             // 서버가 에러 응답을 반환한 경우 (e.g., 500)
                             let errorText = await response.text();
                             throw new Error(errorText || `서버 응답 오류: ${response.status}`);
                        }

                    } catch (error) {
                        console.error('Error sending form data:', error);
                        errorModalMessage.innerHTML = `죄송합니다. 요청 처리 중 오류가 발생했습니다.<br>잠시 후 다시 시도하거나 고객센터로 문의해주세요.`;
                        errorModal.classList.remove('hidden', 'modal-leave-active', 'modal-leave');
                        errorModal.classList.add('modal-enter', 'modal-enter-active');
                         setTimeout(() => errorModal.classList.remove('modal-enter', 'modal-enter-active'), 300);
                    } finally {
                        submitButton.disabled = false;
                        submitText.classList.remove('invisible');
                        submitSpinner.classList.add('hidden');
                    }
                });
            }
             // Function to close modals with animation
            function closeModalWithAnimation(modalElement) {
                modalElement.classList.add('modal-leave', 'modal-leave-active');
                modalElement.classList.remove('modal-enter', 'modal-enter-active');
                setTimeout(() => {
                    modalElement.classList.add('hidden');
                    modalElement.classList.remove('modal-leave', 'modal-leave-active');
                }, 200);
            }

            if (successModalClose) {
                successModalClose.addEventListener('click', () => closeModalWithAnimation(successModal));
            }
             if (successModal) {
                 successModal.addEventListener('click', (e) => { if (e.target === successModal) closeModalWithAnimation(successModal); });
             }

            if (errorModalClose) {
                errorModalClose.addEventListener('click', () => closeModalWithAnimation(errorModal));
            }
            if (errorModal) {
                errorModal.addEventListener('click', (e) => { if (e.target === errorModal) closeModalWithAnimation(errorModal); });
            }
        });
    </script>

</body>
</html>

