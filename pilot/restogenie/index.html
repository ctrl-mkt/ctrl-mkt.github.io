<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>레스토지니 요금제 안내</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Chosen Palette: Corporate & Trustworthy (Slate, Indigo, White) -->
    <!-- Application Structure Plan: A single page with a tabbed interface to switch between B2C and Enterprise pricing plans. This structure cleanly separates the two distinct user journeys. Each tab contains the previously designed, now mobile-optimized, content for that audience. The Enterprise tab has been enhanced with detailed, bullet-pointed descriptions for its setup fee to justify the cost. A new Gemini API-powered feature has been added to the B2C tab to provide an interactive demo. -->
    <!-- Visualization & Content Choices: Report Info -> B2C & Enterprise pricing models. Goal -> Inform & Compare & Demo. Viz/Presentation -> Tabbed layout with interactive pricing cards, detailed tables, and an AI-powered text generator. Interaction -> Tab switching, monthly/annual toggle (B2C), feature description popups, Gemini API call, scroll-to & highlight interaction. Justification -> Adding an interactive demo directly showcases the product's core value proposition powered by Gemini. Library/Method -> Vanilla JS for interactions, Tailwind CSS for layout. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        html { scroll-behavior: smooth; }
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-size: 14px; /* Mobile base font size */ }
        .tab-btn.active { border-color: #4f46e5; background-color: #eef2ff; color: #4f46e5; }
        .plan-card { transition: all 0.3s ease-in-out; }
        .plan-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
        .toggle-bg:after { content: ''; position: absolute; top: 2px; left: 2px; background: white; border-radius: 9999px; width: 1.5rem; height: 1.5rem; transition: all .3s; }
        input:checked + .toggle-bg:after { transform: translateX(100%); }
        input:checked + .toggle-bg { background-color: #3b82f6; }
        .feature-table th, .feature-table td { padding: 0.75rem 0.5rem; font-size: 0.8rem; text-align: center; } /* Mobile table padding */
        .feature-table th:first-child, .feature-table td:first-child { text-align: left; padding-left: 1rem; position: sticky; left: 0; background-color: inherit; z-index: 10; } /* Sticky first column */
        .feature-table thead th:first-child { background-color: #f9fafb; z-index: 11;} /* Ensure header sticky is above body sticky */
        .feature-icon { color: #3b82f6; }
        .recommended-plan { border-width: 2px; border-color: #3b82f6; }
        .soon-badge, .promo-badge {
            font-size: 0.6rem;
            font-weight: 600;
            margin-left: 4px;
            padding: 2px 5px;
            border-radius: 9999px;
            vertical-align: middle;
        }
        .soon-badge { background-color: #e5e7eb; color: #6b7280; }
        .promo-badge { background-color: #fee2e2; color: #b91c1c; }
        .tooltip-icon {
            cursor: pointer;
            color: #94a3b8;
            margin-left: 4px;
            font-size: 0.8em;
            transition: color 0.2s;
        }
        .tooltip-icon:hover { color: #4f46e5; }
        #feature-modal.hidden { display: none; }
        .annual-total { display: none; font-size: 0.7rem; }
        .detail-list { list-style-type: disc; list-style-position: inside; margin-left: 1.25em; } /* Standard bullet list style */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4f46e5;
            border-radius: 50%;
            width: 24px; /* Smaller loader */
            height: 24px;
            animation: spin 1s linear infinite;
        }
        .highlighted-col { background-color: #eef2ff !important; border-left: 2px solid #818cf8; border-right: 2px solid #818cf8; } /* Highlight style with border */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Desktop styles */
        @media (min-width: 768px) {
            body { font-size: 16px; /* Desktop base font size */ }
            .feature-table th, .feature-table td { padding: 1rem 1.5rem; font-size: 0.95rem;}
            .feature-table th:first-child, .feature-table td:first-child { padding-left: 1.5rem; }
            .soon-badge, .promo-badge { font-size: 0.7rem; }
            .tooltip-icon { font-size: 0.9em; margin-left: 6px; }
            .annual-total { font-size: 0.75rem; }
            .loader { width: 30px; height: 30px; }
        }
        @media (min-width: 1280px) {
            .container.main-container { max-width: 1200px; } /* Max width for large screens */
        }
        /* Modal Styles */
        #waitlist-modal.hidden, #form-success-modal.hidden, #form-error-modal.hidden { display: none; } /* Added error modal */
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .modal-leave { opacity: 1; transform: scale(1); }
        .modal-leave-active { opacity: 0; transform: scale(0.95); transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
         .spinner {
             border: 4px solid rgba(255, 255, 255, 0.3);
             border-radius: 50%;
             border-top-color: #fff;
             width: 1rem;
             height: 1rem;
             animation: spin 1s ease-in-out infinite;
         }
         @keyframes spin {
           to { transform: rotate(360deg); }
         }
    </style>
</head>
<body class="text-slate-800">

    <div class="container main-container mx-auto px-4 py-8 md:py-16">

        <!-- Tab Navigation -->
        <div class="max-w-md mx-auto mb-8 p-1 bg-slate-200 rounded-full flex items-center space-x-1">
            <button id="b2c-tab-btn" class="tab-btn w-1/2 py-2 px-3 md:px-4 text-xs md:text-sm rounded-full text-center font-semibold transition active">B2C 요금제</button>
            <button id="enterprise-tab-btn" class="tab-btn w-1/2 py-2 px-3 md:px-4 text-xs md:text-sm rounded-full text-center font-semibold transition">Enterprise 요금제</button>
        </div>

        <!-- B2C Content -->
        <div id="b2c-content">
            <header class="text-center mb-8 md:mb-12">
                <h1 class="text-2xl md:text-4xl lg:text-5xl font-extrabold text-slate-900 mb-3 md:mb-4">당신의 매장에 꼭 맞는 플랜을 선택하세요</h1>
                <p class="text-sm md:text-lg text-slate-600 max-w-2xl mx-auto">레스토지니는 개인 점주부터 대형 프랜차이즈까지, 모든 외식업의 성공을 위한 AI 파트너입니다.</p>
            </header>
            <div class="flex items-center justify-center space-x-2 md:space-x-3 mb-8 md:mb-10">
                <span class="font-medium text-slate-700 text-xs md:text-base" id="monthly-label">월간 결제</span>
                <label for="billing-toggle" class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" id="billing-toggle" class="sr-only peer">
                    <div class="w-10 h-6 md:w-11 md:h-7 bg-slate-300 rounded-full toggle-bg peer-focus:ring-4 peer-focus:ring-blue-300"></div>
                </label>
                <span class="font-medium text-slate-500 text-xs md:text-base" id="annual-label">연간 결제</span>
                <span class="bg-blue-100 text-blue-800 text-xs font-semibold ml-2 px-2.5 py-0.5 rounded-full">20% 할인</span>
            </div>
            <main class="grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 md:gap-6">
                <!-- B2C plans will be dynamically inserted here -->
            </main>

            <!-- Gemini API Feature Section -->
            <section class="mt-12 md:mt-16 bg-white rounded-xl shadow-lg p-6 md:p-8">
                <div class="text-center mb-6 md:mb-8">
                    <h2 class="text-xl md:text-3xl font-bold text-slate-900">✨ Gemini AI로 만드는 우리 가게 마케팅 문구</h2>
                    <p class="text-slate-600 mt-2 text-sm md:text-base">간단한 정보만 입력하면, Gemini AI가 고객의 시선을 사로잡는 SNS 홍보 문구를 만들어 드립니다.</p>
                </div>
                <div class="max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 items-start">
                    <div>
                        <div class="space-y-3">
                            <div>
                                <label for="restaurant-type" class="block text-xs md:text-sm font-medium text-slate-700 mb-1">가게 종류</label>
                                <input type="text" id="restaurant-type" class="w-full border-slate-300 rounded-md shadow-sm text-sm" placeholder="예: 수제버거 전문점">
                            </div>
                            <div>
                                <label for="menu-item" class="block text-xs md:text-sm font-medium text-slate-700 mb-1">메뉴 이름</label>
                                <input type="text" id="menu-item" class="w-full border-slate-300 rounded-md shadow-sm text-sm" placeholder="예: 더블치즈 트러플 버거">
                            </div>
                            <div>
                                <label for="promotion-details" class="block text-xs md:text-sm font-medium text-slate-700 mb-1">특별 할인 / 이벤트 (선택)</label>
                                <input type="text" id="promotion-details" class="w-full border-slate-300 rounded-md shadow-sm text-sm" placeholder="예: 오늘만 20% 할인">
                            </div>
                        </div>
                        <button id="generate-btn" class="mt-4 md:mt-6 w-full bg-indigo-600 text-white font-bold py-2.5 md:py-3 px-4 rounded-md hover:bg-indigo-700 transition flex items-center justify-center text-sm md:text-base">
                            <i class="fas fa-magic-sparkles mr-2"></i> AI 문구 생성하기
                        </button>
                    </div>
                    <div class="bg-slate-100 rounded-md p-4 min-h-[200px] md:min-h-[250px] relative">
                        <div id="loading-indicator" class="hidden absolute inset-0 bg-slate-100/80 flex items-center justify-center">
                            <div class="loader"></div>
                        </div>
                        <p id="gemini-output" class="text-slate-700 whitespace-pre-wrap text-sm md:text-base"></p>
                        <button id="copy-btn" class="hidden absolute top-2 right-2 bg-slate-200 text-slate-600 hover:bg-slate-300 px-2 py-0.5 md:px-3 md:py-1 rounded-md text-xs md:text-sm font-medium">
                            <i class="fas fa-copy mr-1"></i> 복사
                        </button>
                        <div id="copy-success" class="hidden absolute bottom-2 right-2 bg-green-500 text-white px-2 py-0.5 md:px-3 md:py-1 rounded-md text-xs md:text-sm font-medium">복사 완료!</div>
                    </div>
                </div>
            </section>

             <section class="mt-12 md:mt-16" id="b2c-feature-comparison">
                <h3 class="text-xl md:text-3xl font-bold text-center mb-8 md:mb-10 text-slate-900">모든 플랜 기능 비교</h3>
                <div class="bg-white rounded-xl shadow-lg overflow-x-auto">
                    <table id="b2c-feature-table" class="w-full text-left feature-table whitespace-nowrap">
                        <!-- B2C feature table will be dynamically inserted here -->
                    </table>
                </div>
            </section>
        </div>

        <!-- Enterprise Content -->
        <div id="enterprise-content" class="hidden">
            <header class="text-center mb-8 md:mb-12">
                <h1 class="text-2xl md:text-4xl lg:text-5xl font-extrabold text-slate-900 mb-3 md:mb-4">프랜차이즈를 위한 AI 경영 솔루션</h1>
                <p class="text-sm md:text-lg text-slate-600 max-w-2xl mx-auto">
                    흩어진 가맹점 데이터를 하나로 통합하고, 본사의 의사결정을 AI로 혁신하여 브랜드의 지속가능한 성장을 만듭니다.
                </p>
            </header>
            <main id="enterprise-main-content">
                <!-- Enterprise content will be dynamically inserted here -->
            </main>
        </div>
    </div>

    <!-- Feature Description Modal -->
    <div id="feature-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 transition-opacity duration-300">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-md mx-auto transform transition-transform duration-300 scale-95">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h3 id="modal-title" class="text-lg md:text-xl font-bold text-slate-800"></h3>
                    <button id="modal-close" class="text-slate-400 hover:text-slate-600"><i class="fas fa-times text-xl md:text-2xl"></i></button>
                </div>
                <div id="modal-description" class="text-slate-600 text-sm md:text-base"></div>
            </div>
        </div>
    </div>

     <!-- Channel Talk Plugin Script -->
    <script>
      (function(){var w=window;if(w.ChannelIO){return w.console.error("ChannelIO script included twice.");}var ch=function(){ch.c(arguments);};ch.q=[];ch.c=function(args){ch.q.push(args);};w.ChannelIO=ch;function l(){if(w.ChannelIOInitialized){return;}w.ChannelIOInitialized=true;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src="https://cdn.channel.io/plugin/ch-plugin-web.js";var x=document.getElementsByTagName("script")[0];if(x.parentNode){x.parentNode.insertBefore(s,x);}}if(document.readyState==="complete"){l();}else{w.addEventListener("DOMContentLoaded",l);w.addEventListener("load",l);}})();
      ChannelIO('boot', { "pluginKey": "6730846e-0cb4-4d5e-8997-7d768be6b050" });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Tab data
            const b2cContentContainer = document.querySelector('#b2c-content > main');
            const enterpriseContentContainer = document.getElementById('enterprise-main-content');
            const b2cFeatureTableContainer = document.getElementById('b2c-feature-table');

            // B2C Plans Data
            const b2cPlans = `
                <div class="plan-card bg-white rounded-xl shadow-md p-4 md:p-6 flex flex-col" data-plan-index="0">
                    <h2 class="text-lg md:text-xl font-bold text-slate-900">Free</h2>
                    <p class="text-xs md:text-sm text-slate-500 mt-1 md:mt-2 mb-4 md:mb-6 h-12 md:h-16">Basic 플랜 1개월 무료 체험</p>
                    <div class="mb-4 md:mb-6"><span class="text-2xl md:text-3xl font-extrabold" data-price-monthly="0">₩0</span></div>
                    <button class="b2c-start-btn w-full mt-auto text-center bg-slate-800 text-white font-semibold py-2 md:py-3 rounded-lg hover:bg-slate-900 transition-colors text-xs md:text-sm" data-plan-index="0">1개월 무료 체험</button>
                </div>
                <div class="plan-card bg-white rounded-xl shadow-md p-4 md:p-6 flex flex-col" data-plan-index="1">
                    <h2 class="text-lg md:text-xl font-bold text-slate-900">Basic</h2>
                    <p class="text-xs md:text-sm text-slate-500 mt-1 md:mt-2 mb-4 md:mb-6 h-12 md:h-16">데이터 기반 관리의 시작</p>
                    <div class="mb-4 md:mb-6" data-retail-price="9900">
                        <span class="text-2xl md:text-3xl font-extrabold">₩9,900</span><span class="text-slate-500 text-xs md:text-sm">/ 월</span>
                        <p class="annual-total">연간 ₩95,040</p>
                    </div>
                    <button class="b2c-start-btn w-full mt-auto text-center bg-slate-200 text-slate-800 font-semibold py-2 md:py-3 rounded-lg hover:bg-slate-300 transition-colors text-xs md:text-sm" data-plan-index="1">플랜 시작하기</button>
                </div>
                <div class="plan-card bg-white rounded-xl shadow-lg p-4 md:p-6 flex flex-col recommended-plan relative" data-plan-index="2">
                     <div class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2"><span class="bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase">추천</span></div>
                    <h2 class="text-lg md:text-xl font-bold text-blue-600">Deluxe</h2>
                    <p class="text-xs md:text-sm text-slate-500 mt-1 md:mt-2 mb-4 md:mb-6 h-12 md:h-16">본격적인 AI 마케팅 분석</p>
                    <div class="mb-4 md:mb-6" data-promo="true" data-retail-price="29900" data-promo-price="9900">
                        <div><span class="text-lg md:text-xl font-bold text-slate-400 line-through">₩29,900</span><span class="promo-badge">6개월 할인가</span></div>
                        <span class="text-2xl md:text-3xl font-extrabold text-red-600">₩9,900</span><span class="text-slate-500 text-xs md:text-sm">/ 월</span>
                        <p class="annual-total">연간 ₩287,040</p>
                    </div>
                    <button class="b2c-start-btn w-full mt-auto text-center bg-blue-600 text-white font-semibold py-2 md:py-3 rounded-lg hover:bg-blue-700 transition-colors text-xs md:text-sm" data-plan-index="2">플랜 시작하기</button>
                </div>
                <div class="plan-card bg-white rounded-xl shadow-md p-4 md:p-6 flex flex-col" data-plan-index="3">
                    <h2 class="text-lg md:text-xl font-bold text-slate-900">Pro</h2>
                    <p class="text-xs md:text-sm text-slate-500 mt-1 md:mt-2 mb-4 md:mb-6 h-12 md:h-16">AI 운영 자동화 & 심화 분석</p>
                     <div class="mb-4 md:mb-6" data-promo="true" data-retail-price="49900" data-promo-price="29900">
                        <div><span class="text-lg md:text-xl font-bold text-slate-400 line-through">₩49,900</span><span class="promo-badge">6개월 할인가</span></div>
                        <span class="text-2xl md:text-3xl font-extrabold text-red-600">₩29,900</span><span class="text-slate-500 text-xs md:text-sm">/ 월</span>
                        <p class="annual-total">연간 ₩479,040</p>
                    </div>
                    <button class="b2c-start-btn w-full mt-auto text-center bg-slate-200 text-slate-800 font-semibold py-2 md:py-3 rounded-lg hover:bg-slate-300 transition-colors text-xs md:text-sm" data-plan-index="3">플랜 시작하기</button>
                </div>
                <div class="plan-card bg-white rounded-xl shadow-md p-4 md:p-6 flex flex-col" data-plan-index="4">
                    <h2 class="text-lg md:text-xl font-bold text-slate-900">Pro+</h2>
                    <p class="text-xs md:text-sm text-slate-500 mt-1 md:mt-2 mb-4 md:mb-6 h-12 md:h-16">CCTV 연동으로 방문 고객까지 완벽 분석</p>
                    <div class="mb-4 md:mb-6" data-retail-price="89900">
                        <span class="text-2xl md:text-3xl font-extrabold">₩89,900</span><span class="text-slate-500 text-xs md:text-sm">/ 월</span>
                        <p class="annual-total">연간 ₩863,040</p>
                    </div>
                    <button class="b2c-start-btn w-full mt-auto text-center bg-slate-200 text-slate-800 font-semibold py-2 md:py-3 rounded-lg hover:bg-slate-300 transition-colors text-xs md:text-sm" data-plan-index="4">플랜 시작하기</button>
                </div>
                <div class="plan-card bg-white rounded-xl shadow-md p-4 md:p-6 flex flex-col" data-plan-index="5">
                    <h2 class="text-lg md:text-xl font-bold text-slate-900">Enterprise</h2>
                    <p class="text-xs md:text-sm text-slate-500 mt-1 md:mt-2 mb-4 md:mb-6 h-12 md:h-16">대형 프랜차이즈를 위한 맞춤 솔루션</p>
                    <div class="mb-4 md:mb-6"><span class="text-2xl md:text-3xl font-extrabold">별도 문의</span></div>
                    <button id="b2c-enterprise-contact" class="w-full mt-auto text-center bg-slate-200 text-slate-800 font-semibold py-2 md:py-3 rounded-lg hover:bg-slate-300 transition-colors text-xs md:text-sm" data-plan-index="5">문의하기</button>
                </div>
            `;
            b2cContentContainer.innerHTML = b2cPlans;

            // B2C Feature Table Data (Restoring details)
            const b2cFeatureTable = `
                <thead>
                    <tr class="bg-slate-50"><th class="w-1/4 sticky left-0 bg-slate-50 z-10">기능</th><th class="text-center">Free</th><th class="text-center">Basic</th><th class="text-center">Deluxe</th><th class="text-center">Pro</th><th class="text-center">Pro+</th><th class="text-center">Enterprise</th></tr>
                </thead>
                <tbody class="divide-y divide-slate-200">
                    <tr><td colspan="7" class="sticky left-0 bg-slate-100 font-bold text-slate-700 z-10">📊 데이터 연동 & 리포트</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">POS 데이터 집계<i class="fas fa-question-circle tooltip-icon" data-feature-key="pos"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">배달 플랫폼 매출 상세 집계<i class="fas fa-question-circle tooltip-icon" data-feature-key="delivery"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">네이버/메타 광고 데이터 연동<i class="fas fa-question-circle tooltip-icon" data-feature-key="ads"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">AI 주간/월간 리포트<i class="fas fa-question-circle tooltip-icon" data-feature-key="report"></i></td><td class="text-center text-slate-400"><i class="fas fa-minus"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">카카오톡 알림 및 리포트 전달<i class="fas fa-question-circle tooltip-icon" data-feature-key="kakao"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td colspan="7" class="sticky left-0 bg-slate-100 font-bold text-slate-700 z-10">🤖 AI 에이전트</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">AI 에이전트 크레딧<i class="fas fa-question-circle tooltip-icon" data-feature-key="credit"></i></td><td class="text-center font-bold">1,000</td><td class="text-center font-bold">10,000</td><td class="text-center font-bold">30,000</td><td class="text-center font-bold">50,000</td><td class="text-center font-bold">70,000</td><td class="text-center">별도 협의</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">AI 분석 카드<i class="fas fa-question-circle tooltip-icon" data-feature-key="analysis_card"></i></td><td class="text-center text-slate-400"><i class="fas fa-minus"></i></td><td class="text-center">기본</td><td class="text-center">상세</td><td class="text-center">심화</td><td class="text-center">심화</td><td class="text-center">맞춤</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">AI 기반 실행 제안<i class="fas fa-question-circle tooltip-icon" data-feature-key="suggestion"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center">2건/월</td><td class="text-center">10건/월</td><td class="text-center">20건/월</td><td class="text-center">30건/월</td><td class="text-center">무제한</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">AI 챗봇<i class="fas fa-question-circle tooltip-icon" data-feature-key="chatbot"></i></td><td class="text-center">기본 문의</td><td class="text-center">운영 문의</td><td class="text-center">심층 분석</td><td class="text-center">전략 컨설팅</td><td class="text-center">전략 컨설팅</td><td class="text-center">맞춤형</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">AI 대화 기록 및 컨텍스트 학습<i class="fas fa-question-circle tooltip-icon" data-feature-key="context_memory"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center">최근 30일</td><td class="text-center">최근 90일</td><td class="text-center">무제한</td><td class="text-center">무제한</td><td class="text-center">무제한</td></tr>
                    <tr><td colspan="7" class="sticky left-0 bg-slate-100 font-bold text-slate-700 z-10">📈 마케팅 & 고객 관리</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">온라인 리뷰 AI 응답<span class="soon-badge">출시 예정</span><i class="fas fa-question-circle tooltip-icon" data-feature-key="review_reply"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center">20건/월</td><td class="text-center">50건/월</td><td class="text-center">100건/월</td><td class="text-center">200건/월</td><td class="text-center">무제한</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">재방문/이탈 고객 분석<i class="fas fa-question-circle tooltip-icon" data-feature-key="customer_analysis"></i></td><td class="text-center">10명/월</td><td class="text-center">50명/월</td><td class="text-center">200명/월</td><td class="text-center">350명/월</td><td class="text-center">500명/월</td><td class="text-center">무제한</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">메뉴 조합 추천<i class="fas fa-question-circle tooltip-icon" data-feature-key="menu_recommend"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">경쟁사 분석<span class="soon-badge">출시 예정</span><i class="fas fa-question-circle tooltip-icon" data-feature-key="competitor"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center">주변 3곳</td><td class="text-center">주변 10곳</td><td class="text-center">주변 20곳</td><td class="text-center">지역구 전체</td><td class="text-center">무제한</td></tr>
                    <tr><td colspan="7" class="sticky left-0 bg-slate-100 font-bold text-slate-700 z-10">⚙️ 운영 자동화<span class="soon-badge">Pro 이상 출시 예정</span></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">수요 예측 기반 발주 제안<i class="fas fa-question-circle tooltip-icon" data-feature-key="ordering"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">매출 연동 근무 스케줄 최적화<i class="fas fa-question-circle tooltip-icon" data-feature-key="schedule"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td colspan="7" class="sticky left-0 bg-slate-100 font-bold text-slate-700 z-10">🏢 프랜차이즈 기능<span class="soon-badge">출시 예정</span></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">다수 매장 통합 관리<i class="fas fa-question-circle tooltip-icon" data-feature-key="multi_store"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center">최대 3개</td><td class="text-center">최대 10개</td><td class="text-center">최대 10개</td><td class="text-center">무제한</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">본사 전용 대시보드<i class="fas fa-question-circle tooltip-icon" data-feature-key="hq_dashboard"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td colspan="7" class="sticky left-0 bg-slate-100 font-bold text-slate-700 z-10">✨ 고급 기능 및 지원</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">AI Vision (매장별)<i class="fas fa-question-circle tooltip-icon" data-feature-key="cctv"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center">1개 매장</td><td class="text-center">별도 협의</td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">우선 지원<i class="fas fa-question-circle tooltip-icon" data-feature-key="priority_support"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                    <tr><td class="sticky left-0 bg-white z-10">전담 성공 매니저<i class="fas fa-question-circle tooltip-icon" data-feature-key="manager"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center text-slate-400"><i class="fas fa-times"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td><td class="text-center feature-icon"><i class="fas fa-check"></i></td></tr>
                </tbody>`;
            b2cFeatureTableContainer.innerHTML = b2cFeatureTable;

            // Enterprise Content Data (Restoring details including phased rollout)
            const enterpriseContentHTML = `
                <section class="mb-12 md:mb-16">
                    <h2 class="text-xl md:text-3xl font-bold text-slate-900 text-center mb-8 md:mb-10">Enterprise 요금제 구성</h2>
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden max-w-4xl mx-auto">
                        <div class="p-6 md:p-8">
                            <h3 class="text-lg md:text-2xl font-bold text-slate-800 mb-6">단계별 맞춤형 도입 플랜</h3>
                            <table class="w-full text-left text-xs md:text-base">
                                <thead><tr class="border-b"><th class="py-2 md:py-3 font-semibold text-slate-600">항목</th><th class="py-2 md:py-3 font-semibold text-slate-600">내용</th><th class="py-2 md:py-3 font-semibold text-slate-600 text-right">비용</th></tr></thead>
                                <tbody>
                                    <tr class="border-b"><td class="py-4 md:py-5 font-bold text-indigo-600 align-top" rowspan="3">1단계 (Access)</td>
                                        <td class="py-3 md:py-4">
                                            <p class="font-semibold">초기 구축비 <i class="fas fa-question-circle tooltip-icon" data-feature-key="initial_setup"></i></p>
                                            <p class="text-xs text-slate-500 mt-2">브랜드 맞춤형 AI 환경 구축 및 全 가맹점 데이터 연동을 위한 전문 기술 서비스</p>
                                        </td>
                                        <td class="py-3 md:py-4 text-right font-bold md:text-lg align-top">₩ 10,000,000</td>
                                    </tr>
                                    <tr class="border-b"><td colspan="2" class="pt-2 pb-3 md:pb-4 text-xs text-slate-500">※ 초기 구축비는 200개 가맹점 기준이며, 초과 시 규모에 따라 추가 비용이 발생할 수 있습니다. (별도 협의)</td></tr>
                                    <tr class="border-b"><td class="py-3 md:py-4"><p class="font-semibold">월 이용료 (가맹점당)</p><p class="text-xs text-slate-500">AI 챗봇, 점포별 대시보드 및 리포트 제공</p></td><td class="py-3 md:py-4 text-right font-bold md:text-lg">₩ 50,000</td></tr>
                                    <tr class="border-b"><td class="py-4 md:py-5 font-bold text-indigo-600 align-top" rowspan="2">2단계 (Control)<br><span class="text-xs font-normal text-slate-500">(선택)</span></td>
                                        <td class="py-3 md:py-4"><p class="font-semibold">본사 통합 대시보드 <i class="fas fa-question-circle tooltip-icon" data-feature-key="hq_dashboard_option"></i></p><p class="text-xs text-slate-500">全 가맹점 데이터 통합 및 비교 분석, 자동 요약 리포트</p></td><td class="py-3 md:py-4 text-right font-bold md:text-lg align-top">가맹점당 월 +₩15,000</td>
                                    </tr>
                                    <tr><td class="py-3 md:py-4"><p class="font-semibold">ERP 연동 <i class="fas fa-question-circle tooltip-icon" data-feature-key="erp_integration"></i></p><p class="text-xs text-slate-500">본사 ERP 연동을 통한 수익성 심층 분석</p></td><td class="py-3 md:py-4 text-right font-bold md:text-lg align-top">별도 문의</td></tr>
                                </tbody>
                            </table>
                        </div>
                         <div class="bg-slate-100 p-4 md:p-6 text-center text-xs md:text-sm text-slate-600">
                             <p>※ 가맹점 수에 따른 볼륨 할인 정책이 적용됩니다. 자세한 내용은 별도 문의 바랍니다.</p>
                         </div>
                    </div>
                </section>
                 <section class="mb-12 md:mb-16">
                     <h2 class="text-xl md:text-3xl font-bold text-slate-900 text-center mb-8 md:mb-10">가맹점 월 5만원 플랜 (Access Plan) 상세 기능</h2>
                     <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 max-w-4xl mx-auto">
                         <p class="text-center text-slate-600 mb-8 md:mb-10 text-sm md:text-base">각 가맹점은 B2C Pro 요금제에 준하는 강력한 AI 기능들을 제공받아, 데이터 기반으로 매장을 운영하고 매출을 증대시킬 수 있습니다.</p>
                         <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                             <div><h4 class="text-sm md:text-base font-bold text-indigo-600 border-b-2 border-indigo-200 pb-2 mb-4">📊 데이터 & 리포트</h4><ul class="space-y-2 text-xs md:text-sm"><li><i class="fa-solid fa-check text-green-500 w-5"></i> POS/배달/광고 데이터 통합</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> AI 주간/월간 리포트</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> 카카오톡 알림 및 리포트</li></ul></div>
                             <div><h4 class="text-sm md:text-base font-bold text-indigo-600 border-b-2 border-indigo-200 pb-2 mb-4">🤖 AI 에이전트</h4><ul class="space-y-2 text-xs md:text-sm"><li><i class="fa-solid fa-check text-green-500 w-5"></i> 50,000 AI 크레딧/월</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> AI 분석 카드 (심화)</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> AI 기반 실행 제안 (20건/월)</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> AI 챗봇 (전략 컨설팅)</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> AI 컨텍스트 학습 (무제한)</li></ul></div>
                             <div><h4 class="text-sm md:text-base font-bold text-indigo-600 border-b-2 border-indigo-200 pb-2 mb-4">📈 마케팅 & 고객 관리</h4><ul class="space-y-2 text-xs md:text-sm"><li><i class="fa-solid fa-check text-green-500 w-5"></i> 온라인 리뷰 AI 응답 (100건/월)<span class="soon-badge">출시예정</span></li><li><i class="fa-solid fa-check text-green-500 w-5"></i> 재방문/이탈 고객 분석</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> 메뉴 조합 추천</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> 경쟁사 분석 (주변 20곳)<span class="soon-badge">출시예정</span></li></ul></div>
                             <div><h4 class="text-sm md:text-base font-bold text-indigo-600 border-b-2 border-indigo-200 pb-2 mb-4">⚙️ 운영 자동화 <span class="soon-badge">출시예정</span></h4><ul class="space-y-2 text-xs md:text-sm"><li><i class="fa-solid fa-check text-green-500 w-5"></i> 수요 예측 기반 발주 제안</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> 매출 연동 근무 스케줄 최적화</li></ul></div>
                             <div><h4 class="text-sm md:text-base font-bold text-indigo-600 border-b-2 border-indigo-200 pb-2 mb-4">🏢 본사-가맹점 연동</h4><ul class="space-y-2 text-xs md:text-sm"><li><i class="fa-solid fa-check text-green-500 w-5"></i> 본사 매뉴얼 기반 AI 챗봇</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> 본사 공지사항 실시간 확인</li></ul></div>
                             <div><h4 class="text-sm md:text-base font-bold text-indigo-600 border-b-2 border-indigo-200 pb-2 mb-4">✨ 고객 지원</h4><ul class="space-y-2 text-xs md:text-sm"><li><i class="fa-solid fa-check text-green-500 w-5"></i> 우선 지원 채널 제공</li><li><i class="fa-solid fa-check text-green-500 w-5"></i> 전담 성공 매니저 배정</li></ul></div>
                         </div>
                     </div>
                 </section>
                <section class="mb-12 md:mb-16">
                    <h2 class="text-xl md:text-3xl font-bold text-slate-900 text-center mb-8 md:mb-10">단계별 도입 프로세스</h2>
                    <div class="max-w-4xl mx-auto">
                        <!-- Phase 1 -->
                        <div class="mb-10 md:mb-12">
                            <div class="flex items-center mb-4 md:mb-6"><div class="bg-indigo-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center font-bold text-base md:text-lg">1</div><h3 class="text-lg md:text-2xl font-bold text-slate-800 ml-3 md:ml-4">Access: 가맹점 운영 효율 극대화</h3></div>
                            <div class="grid md:grid-cols-2 gap-4 md:gap-6">
                                <div class="bg-white p-4 md:p-6 rounded-lg shadow-md border-l-4 border-indigo-500"><h4 class="font-bold text-sm md:text-lg mb-2">가맹점 전용 AI 비서</h4><p class="text-xs md:text-sm text-slate-600">본사 매뉴얼, 공지, 레시피를 학습한 AI 챗봇이 가맹점주의 모든 질문에 24시간 답변하며, 슈퍼바이저의 반복 업무를 줄여줍니다.</p></div>
                                <div class="bg-white p-4 md:p-6 rounded-lg shadow-md border-l-4 border-indigo-500"><h4 class="font-bold text-sm md:text-lg mb-2">데이터 기반 점포 운영</h4><p class="text-xs md:text-sm text-slate-600">각 가맹점의 POS, 배달, 광고 데이터를 분석하여 AI 분석 카드와 리포트를 제공, 점주가 데이터에 기반한 의사결정을 내리도록 돕습니다.</p></div>
                            </div>
                        </div>
                        <div class="text-center my-6 md:my-8"><i class="fa-solid fa-arrow-down text-xl md:text-3xl text-slate-400"></i></div>
                        <!-- Phase 2 -->
                        <div>
                            <div class="flex items-center mb-4 md:mb-6"><div class="bg-indigo-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center font-bold text-base md:text-lg">2</div><h3 class="text-lg md:text-2xl font-bold text-slate-800 ml-3 md:ml-4">Control: 본사 통합 관리 및 전략 수립</h3></div>
                            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
                                <div class="bg-white p-4 md:p-6 rounded-lg shadow-md border-l-4 border-indigo-500"><h4 class="font-bold text-sm md:text-lg mb-2">본사 통합 대시보드</h4><p class="text-xs md:text-sm text-slate-600">전 가맹점의 핵심 성과 지표(KPI)를 실시간으로 비교 분석하여, 브랜드 전체의 현황을 한눈에 파악합니다.</p></div>
                                <div class="bg-white p-4 md:p-6 rounded-lg shadow-md border-l-4 border-indigo-500"><h4 class="font-bold text-sm md:text-lg mb-2">자동 요약 리포트</h4><p class="text-xs md:text-sm text-slate-600">AI가 매주 우수/부진 가맹점 현황과 주요 이슈를 요약한 리포트를 자동 생성하여, 본사의 신속한 의사결정을 지원합니다.</p></div>
                                <div class="bg-white p-4 md:p-6 rounded-lg shadow-md border-l-4 border-indigo-500"><h4 class="font-bold text-sm md:text-lg mb-2">ERP 연동 (선택)</h4><p class="text-xs md:text-sm text-slate-600">본사 ERP와 연동하여 원가, 재고 데이터를 통합 분석하고 브랜드 전체의 수익성을 극대화하는 전략을 수립합니다.</p></div>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="contact" class="text-center bg-white py-12 md:py-16 rounded-xl shadow-lg"><h2 class="text-xl md:text-3xl font-bold text-slate-900 mb-4">지금 바로 AI 혁신을 시작하세요</h2><p class="text-slate-600 mb-8 max-w-xl mx-auto text-sm md:text-base">전문 컨설턴트가 방문하여 귀사의 비즈니스에 최적화된 맞춤형 도입 전략과 기대효과를 상세히 안내해 드립니다.</p><a href="mailto:contact@ctrl-m.com?subject=RestoGenie Enterprise 도입 문의" class="inline-block bg-indigo-600 text-white font-bold py-3 px-6 md:px-8 rounded-full text-sm md:text-lg hover:bg-indigo-700 transition">전문가와 상담하기</a></section>
            `;
            enterpriseContentContainer.innerHTML = enterpriseContentHTML;
            
            // Tab switching logic
            const b2cTabBtn = document.getElementById('b2c-tab-btn');
            const enterpriseTabBtn = document.getElementById('enterprise-tab-btn');
            const b2cContentDiv = document.getElementById('b2c-content');
            const enterpriseContentDiv = document.getElementById('enterprise-content');
            const b2cEnterpriseContactBtn = document.getElementById('b2c-enterprise-contact');

            function switchToEnterprise() {
                b2cContentDiv.classList.add('hidden');
                enterpriseContentDiv.classList.remove('hidden');
                b2cTabBtn.classList.remove('active');
                enterpriseTabBtn.classList.add('active');
                 initializeTooltips(enterpriseContentDiv);
            }
             function switchToB2C() {
                enterpriseContentDiv.classList.add('hidden');
                b2cContentDiv.classList.remove('hidden');
                enterpriseTabBtn.classList.remove('active');
                b2cTabBtn.classList.add('active');
                initializeTooltips(b2cContentDiv);
            }

            b2cTabBtn.addEventListener('click', switchToB2C);
            enterpriseTabBtn.addEventListener('click', switchToEnterprise);
            if (b2cEnterpriseContactBtn) {
                b2cEnterpriseContactBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchToEnterprise();
                    const contactSection = enterpriseContentDiv.querySelector('#contact');
                    if (contactSection) { contactSection.scrollIntoView({ behavior: 'smooth' }); }
                });
            }


            // B2C Price Toggle Logic
            const toggle = document.getElementById('billing-toggle');
            function updateB2CPrices() {
                 if (!toggle) return;
                const isAnnual = toggle.checked;
                b2cContentDiv.querySelectorAll('.plan-card').forEach(card => {
                    const priceContainer = card.querySelector('div[data-retail-price], div:has(> span[data-price-monthly="0"])');
                    if (!priceContainer || card.querySelector('span.text-2xl.md\\:text-3xl.font-extrabold')?.textContent === '별도 문의') return;

                    const priceSpan = priceContainer.querySelector('.text-2xl, .text-3xl, .text-red-600');
                    if (!priceSpan) return;
                    
                    const annualTotalEl = priceContainer.querySelector('.annual-total');

                    const isPromo = priceContainer.dataset.promo === 'true';
                    let retailPrice;
                     if (priceContainer.dataset.retailPrice) { retailPrice = parseInt(priceContainer.dataset.retailPrice, 10); }
                     else {
                         const basePriceEl = card.querySelector('span[data-price-monthly]');
                         if (basePriceEl && basePriceEl.dataset.priceMonthly !== "0") { retailPrice = parseInt(basePriceEl.dataset.priceMonthly, 10); }
                         else if (priceContainer.querySelector('span[data-price-monthly="0"]')) { retailPrice = 0; }
                         else { retailPrice = parseInt(priceSpan.textContent.replace(/[^0-9]/g, '')) || 0; }
                     }
                    const promoPrice = parseInt(priceContainer.dataset.promoPrice || retailPrice, 10);
                     if(isNaN(retailPrice)) return;

                    const annualPricePerMonth = Math.round((retailPrice * 12 * 0.8) / 12);
                    const annualTotal = retailPrice * 12 * 0.8;

                    if (isAnnual) {
                         if (retailPrice > 0) {
                              priceSpan.textContent = '₩' + annualPricePerMonth.toLocaleString();
                              if(annualTotalEl) { annualTotalEl.textContent = '연간 ₩' + annualTotal.toLocaleString(); annualTotalEl.style.display = 'block'; }
                         } else {
                              priceSpan.textContent = '₩0';
                              if (annualTotalEl) annualTotalEl.style.display = 'none';
                         }
                    } else {
                        priceSpan.textContent = '₩' + (isPromo ? promoPrice : retailPrice).toLocaleString();
                        if(annualTotalEl) annualTotalEl.style.display = 'none';
                    }
                });
                const monthlyLabel = document.getElementById('monthly-label');
                const annualLabel = document.getElementById('annual-label');
                 if (!monthlyLabel || !annualLabel) return;
                if (isAnnual) {
                    monthlyLabel.classList.replace('text-slate-700', 'text-slate-500');
                    annualLabel.classList.replace('text-slate-500', 'text-slate-700');
                } else {
                    monthlyLabel.classList.replace('text-slate-500', 'text-slate-700');
                    annualLabel.classList.replace('text-slate-700', 'text-slate-500');
                }
            }
             if (toggle) {
                toggle.addEventListener('change', updateB2CPrices);
                updateB2CPrices();
             }

            // B2C "Start Plan" button scroll & highlight
            const b2cStartButtons = document.querySelectorAll('.b2c-start-btn');
            const featureTable = document.getElementById('b2c-feature-table');
            const featureTableBody = featureTable?.querySelector('tbody');
            const featureTableHead = featureTable?.querySelector('thead');

            b2cStartButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    const planIndex = parseInt(button.dataset.planIndex, 10) + 1;
                    const featureComparisonSection = document.getElementById('b2c-feature-comparison');

                    if (featureComparisonSection && featureTableBody && featureTableHead) {
                        featureComparisonSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

                         // Remove previous highlights
                         featureTable.querySelectorAll('td, th').forEach(cell => {
                            cell.classList.remove('highlighted-col');
                            cell.style.borderLeft = '';
                            cell.style.borderRight = '';
                         });

                         // Apply new highlights after a short delay
                        setTimeout(() => {
                            const headerCells = featureTableHead.querySelectorAll('th');
                            if (headerCells[planIndex]) {
                                headerCells[planIndex].classList.add('highlighted-col');
                                // headerCells[planIndex].style.borderLeft = '2px solid #818cf8'; // Keep border style if needed
                                // headerCells[planIndex].style.borderRight = '2px solid #818cf8';
                            }
                            featureTableBody.querySelectorAll('tr').forEach(row => {
                               const cells = row.querySelectorAll('td');
                               if (cells[planIndex]) {
                                    cells[planIndex].classList.add('highlighted-col');
                                    // cells[planIndex].style.borderLeft = '2px solid #818cf8';
                                    // cells[planIndex].style.borderRight = '2px solid #818cf8';
                               }
                            });
                         }, 300);
                    }
                });
            });

            // Gemini API call
             const generateBtn = document.getElementById('generate-btn');
             const outputEl = document.getElementById('gemini-output');
             const loadingEl = document.getElementById('loading-indicator');
             const copyBtn = document.getElementById('copy-btn');
             const copySuccessEl = document.getElementById('copy-success');

             if (generateBtn && outputEl && loadingEl && copyBtn && copySuccessEl) {
                 generateBtn.addEventListener('click', async () => {
                    const restaurantType = document.getElementById('restaurant-type').value;
                    const menuItem = document.getElementById('menu-item').value;
                    const promotion = document.getElementById('promotion-details').value;

                    if (!restaurantType || !menuItem) {
                        alert('가게 종류와 메뉴 이름을 입력해주세요.');
                        return;
                    }

                    loadingEl.classList.remove('hidden');
                    outputEl.textContent = '';
                    copyBtn.classList.add('hidden');
                    
                    const userQuery = `당신은 소상공인 식당 사장님들을 위한 전문 마케터입니다. 다음 정보를 바탕으로 고객의 시선을 사로잡는 인스타그램 마케팅 게시글을 150자 내외로 작성해주세요. 친근하고 매력적인 톤앤매너를 사용하고, 마지막에는 행동을 유도하는 문장과 해시태그 3~5개를 포함해주세요.\n\n- 가게 종류: ${restaurantType}\n- 메뉴 이름: ${menuItem}\n- 특별 할인/이벤트: ${promotion || '없음'}`;
                    
                    try {
                        const apiKey = "";
                        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                        
                        let response; let retries = 0; const maxRetries = 3; let delay = 1000;
                        while (retries < maxRetries) {
                            response = await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ contents: [{ parts: [{ text: userQuery }] }] }) });
                            if (response.ok) break;
                            if (response.status === 429 || response.status >= 500) {
                                retries++; if (retries >= maxRetries) throw new Error(`API 호출 실패: ${response.status} after ${maxRetries} retries`);
                                console.log(`Retrying API call (${retries}/${maxRetries}) after ${delay}ms...`); await new Promise(resolve => setTimeout(resolve, delay)); delay *= 2;
                            } else { throw new Error(`API 호출 실패: ${response.status}`); }
                        }

                        const result = await response.json(); const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                        if (text) { outputEl.textContent = text; copyBtn.classList.remove('hidden'); }
                        else { console.error("API 응답 구조 확인:", result); outputEl.textContent = '결과를 생성하는 데 실패했습니다. 응답 형식을 확인해주세요.'; }
                    } catch (error) { console.error('Error:', error); outputEl.textContent = '오류가 발생했습니다. 잠시 후 다시 시도해주세요.'; }
                    finally { loadingEl.classList.add('hidden'); }
                 });

                 copyBtn.addEventListener('click', () => {
                     const textToCopy = outputEl.textContent;
                     const textArea = document.createElement('textarea');
                     textArea.value = textToCopy; textArea.style.position = 'fixed'; textArea.style.left = '-9999px'; document.body.appendChild(textArea); textArea.select();
                     try { var successful = document.execCommand('copy');
                         if(successful){ copySuccessEl.classList.remove('hidden'); setTimeout(() => { copySuccessEl.classList.add('hidden'); }, 2000); }
                         else { console.error('Copy command was unsuccessful'); alert('텍스트 복사에 실패했습니다.'); }
                     } catch (err) { console.error('복사 실패:', err); alert('텍스트 복사 중 오류가 발생했습니다.'); }
                     document.body.removeChild(textArea);
                 });
             }

            // Modal Logic
            const featureDescriptions = {
                initial_setup: { title: '초기 구축비 상세', description: '<ul class="detail-list space-y-2 text-sm"><li class="mb-2">• **자체 LLM 솔루션 구축:** 본사 운영 매뉴얼, 레시피 등 핵심 비정형 데이터를 정제/벡터화하고, 브랜드 전용 Private LLM 모델을 구축하여 맞춤형 AI를 구현합니다.</li><li>• **데이터 시스템 통합:** 질의응답 정확도 향상을 위한 RAG 시스템을 구축하고, 全 가맹점 POS 및 외부 채널(배달앱, 광고) 데이터 연동 파이프라인을 설계/개발합니다.</li></ul>' },
                hq_dashboard_option: { title: '본사 통합 대시보드', description: '<ul class="detail-list space-y-2 text-sm"><li class="mb-2">• **통합 성과 분석:** 전체 가맹점의 데이터를 실시간으로 집계, 비교, 분석하여 브랜드 전체의 성과를 직관적으로 파악합니다.</li><li>• **신속한 의사결정:** 우수/부진 매장 식별, 캠페인 효과 분석 등 데이터 기반의 신속한 의사결정을 지원합니다.</li></ul>' },
                erp_integration: { title: 'ERP 연동', description: '<ul class="detail-list space-y-2 text-sm"><li class="mb-2">• **수익성 심층 분석:** 본사에서 이미 사용 중인 ERP 시스템과 레스토지니를 연동하여 원가, 재고, 물류 데이터를 AI 분석에 포함시킵니다.</li><li>• **전략 수립:** 브랜드 전체의 수익성을 극대화하는 정교한 전략 수립이 가능해집니다. (별도 기술 컨설팅 및 구축 비용 발생)</li></ul>' },
                pos: { title: 'POS 데이터 집계', description: '매장의 POS(Point of Sale) 시스템과 연동하여 모든 주문 및 결제 데이터를 실시간으로 집계하고 분석합니다.' },
                delivery: { title: '배달 플랫폼 매출 상세 집계', description: '배달의민족, 요기요 등 여러 배달 플랫폼에서 발생하는 매출 데이터를 통합하여 관리하고, 채널별 효율을 비교 분석합니다.' },
                ads: { title: '네이버/메타 광고 데이터 연동', description: '네이버 플레이스 광고, 인스타그램/페이스북 광고 등 외부 마케팅 채널의 성과 데이터를 연동하여 통합 ROAS를 측정합니다.' },
                report: { title: 'AI 주간/월간 리포트', description: 'AI가 매장 데이터를 종합 분석하여 주간 및 월간 성과, 개선점, 성장 포인트를 담은 맞춤형 리포트를 자동으로 생성하고 제공합니다.' },
                kakao: { title: '카카오톡 알림 및 리포트 전달', description: '일일 매출 마감, 주요 경고 등 핵심 정보를 카카오톡으로 받아보고, 정기 리포트도 간편하게 확인할 수 있습니다.' },
                credit: { title: 'AI 에이전트 크레딧', description: 'AI 챗봇, 실행 제안, 리뷰 자동 응답 등 AI 에이전트 기능을 사용할 때 차감되는 포인트입니다. 플랜별로 매월 정해진 양이 제공되며, 소진 시 추가 구매가 가능합니다.' },
                analysis_card: { title: 'AI 분석 카드', description: '매출 급상승/하락, 단골 고객 변화 등 주목해야 할 데이터 변화가 감지되면 AI가 자동으로 원인을 분석하여 이해하기 쉬운 카드로 보여줍니다.' },
                suggestion: { title: 'AI 기반 실행 제안', description: "AI 분석 카드를 바탕으로 '어떤 액션을 취해야 할지' 구체적인 해결책(예: 타겟 프로모션, 신메뉴 조합)을 제안합니다. 클릭 한 번으로 제안을 실행할 수 있습니다." },
                chatbot: { title: 'AI 챗봇', description: '"오늘 가장 많이 팔린 메뉴 뭐야?" 와 같이 자연어(대화)로 매장 데이터에 대해 질문하고 즉시 답변을 얻을 수 있는 AI 비서입니다.' },
                context_memory: { title: 'AI 대화 기록 및 컨텍스트 학습', description: '레스토지니가 과거의 대화, 데이터 분석 결과, 실행한 제안들을 기억하여 시간이 지날수록 매장 상황에 맞는 더 정확하고 고도화된 답변을 제공합니다. (구독 해지 시 데이터는 7일 후 영구 삭제됩니다.)'},
                review_reply: { title: '온라인 리뷰 AI 응답', description: '배달앱, 네이버 등에 등록된 고객 리뷰의 긍정/부정 톤을 AI가 분석하여, 상황에 맞는 답글 초안을 자동으로 생성합니다. 클릭 한 번으로 신속하게 고객과 소통할 수 있습니다. (AI 크레딧 차감)' },
                customer_analysis: { title: '재방문/이탈 고객 분석', description: '방문 빈도, 주기, 최근 방문일 등을 분석하여 충성 고객과 이탈 가능성이 있는 고객 그룹을 자동으로 식별하고 관리합니다.' },
                menu_recommend: { title: '메뉴 조합 추천', description: '함께 주문될 확률이 높은 메뉴들을 분석하여 객단가를 높일 수 있는 세트 메뉴나 프로모션 조합을 추천합니다.' },
                competitor: { title: '경쟁사 분석', description: '주변 경쟁 매장들의 가격, 메뉴, 리뷰, 프로모션 활동을 분석하여 내 매장의 경쟁력을 강화할 전략적 인사이트를 제공합니다.' },
                ordering: { title: '수요 예측 기반 발주 제안', description: '과거 판매 데이터와 요일, 날씨 등을 고려하여 미래 수요를 예측하고, 부족한 식자재에 대한 최적의 발주량을 자동으로 제안합니다.' },
                schedule: { title: '매출 연동 근무 스케줄 최적화', description: '예상되는 시간대별 손님 수와 매출을 기반으로, 인력이 부족하거나 과도하게 배치되지 않도록 최적의 근무 스케줄 편성을 돕습니다.' },
                multi_store: { title: '다수 매장 통합 관리', description: '여러 개의 매장을 운영하는 경우, 모든 매장의 핵심 데이터를 하나의 대시보드에서 비교하고 통합 관리할 수 있습니다.' },
                hq_dashboard: { title: '본사 전용 대시보드', description: '프랜차이즈 본사를 위한 기능으로, 전체 가맹점의 성과를 다각도로 비교 분석하고 우수/부진 매장을 식별하는 등 통합적인 인사이트를 제공합니다.' },
                cctv: { title: 'AI Vision (매장별)', description: '매장 CCTV 영상을 AI가 분석하여 방문객의 성별, 연령대 등을 집계합니다. 1개 매장이 기본 포함되며, 매장 추가 시 월 44,000원이 부과됩니다. (10개 초과 시 별도 문의)' },
                priority_support: { title: '우선 지원', description: '일반 문의보다 우선적으로 답변 및 기술 지원을 받을 수 있는 전용 채널입니다. 더 빠른 문제 해결을 경험하세요.' },
                manager: { title: '전담 성공 매니저', description: '레스토지니 활용도를 극대화하고 데이터 기반 성장을 가속화할 수 있도록, 전담 매니저가 정기적인 컨설팅과 맞춤형 지원을 제공합니다.' },
            };
            const modal = document.getElementById('feature-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalDescription = document.getElementById('modal-description');
            const modalClose = document.getElementById('modal-close');
            
            function openModal(key) {
                const feature = featureDescriptions[key];
                if (feature) {
                    modalTitle.textContent = feature.title;
                    modalDescription.innerHTML = feature.description; // Use innerHTML for lists
                    modal.classList.remove('hidden','modal-leave-active', 'modal-leave');
                    modal.classList.add('modal-enter','modal-enter-active');
                     setTimeout(() => modal.classList.remove('modal-enter','modal-enter-active'), 300);
                }
            }
             function initializeTooltips(container) {
                 container.querySelectorAll('.tooltip-icon').forEach(icon => {
                     icon.removeEventListener('click', handleTooltipClick); // Prevent duplicates
                     icon.addEventListener('click', handleTooltipClick);
                 });
             }
             function handleTooltipClick(e) {
                  const key = e.target.closest('.tooltip-icon').dataset.featureKey;
                  openModal(key);
             }
             // Initialize for both containers initially
             initializeTooltips(document.body);

             function closeModalWithAnimation(modalElement) {
                if (!modalElement) return; // Add check if modalElement exists
                 modalElement.classList.add('modal-leave', 'modal-leave-active');
                 modalElement.classList.remove('modal-enter', 'modal-enter-active'); // Ensure enter classes are removed
                 setTimeout(() => {
                     modalElement.classList.add('hidden');
                     modalElement.classList.remove('modal-leave', 'modal-leave-active'); // Clean up classes
                 }, 200); // Duration of leave animation
             }

             if(modalClose) modalClose.addEventListener('click', () => closeModalWithAnimation(modal));
             if(modal) modal.addEventListener('click', (e) => { if (e.target === modal) closeModalWithAnimation(modal); });
            
        });
    </script>

</body>
</html>

