<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>레스토지니 가맹본사 솔루션 온보딩 WBS</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @media print {
            body { background: white; }
            .no-print { display: none !important; }
            .shadow-xl { box-shadow: none !important; }
            .border { border: 1px solid #e2e8f0 !important; }
        }
        /* Custom scrollbar for horizontal scroll */
        .overflow-x-auto::-webkit-scrollbar {
            height: 8px;
        }
        .overflow-x-auto::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        .overflow-x-auto::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
    </style>
</head>
<body class="min-h-screen bg-slate-50 p-4 md:p-8 font-sans text-slate-800">

    <div class="max-w-6xl mx-auto bg-white shadow-xl rounded-xl overflow-hidden border border-slate-200">
        
        <!-- Header -->
        <div class="bg-slate-900 text-white p-6 md:p-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
            <div>
                <div class="flex items-center gap-2 mb-2 text-blue-400 font-semibold tracking-wide uppercase text-sm">
                    <i data-lucide="layout" class="w-4 h-4"></i>
                    Project Schedule
                </div>
                <h1 class="text-2xl md:text-3xl font-bold">레스토지니 가맹본사 솔루션 온보딩 WBS</h1>
                <p class="text-slate-400 mt-1">고객사 개발 온보딩 및 배포 시나리오 로드맵</p>
            </div>
            <div class="flex gap-2 no-print">
                <button onclick="window.print()" class="flex items-center gap-2 bg-white/10 hover:bg-white/20 transition px-4 py-2 rounded-lg text-sm font-medium cursor-pointer">
                    <i data-lucide="download" class="w-4 h-4"></i>
                    PDF 저장
                </button>
            </div>
        </div>

        <!-- Tabs -->
        <div class="flex border-b border-slate-200 px-6 pt-4 gap-6 overflow-x-auto no-print" id="tab-container">
            <button onclick="filterData('all')" class="tab-btn pb-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 border-blue-600 text-blue-600" data-tab="all">
                전체 일정
            </button>
            <button onclick="filterData('prep')" class="tab-btn pb-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 border-transparent text-slate-500 hover:text-slate-700" data-tab="prep">
                사전 준비 (0주차)
            </button>
            <button onclick="filterData('onboarding')" class="tab-btn pb-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 border-transparent text-slate-500 hover:text-slate-700" data-tab="onboarding">
                온보딩 (1~3주차)
            </button>
            <button onclick="filterData('dev')" class="tab-btn pb-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 border-transparent text-slate-500 hover:text-slate-700" data-tab="dev">
                개발 및 배포 (4~12주차)
            </button>
        </div>

        <!-- Table Content -->
        <div class="overflow-x-auto">
            <table class="w-full min-w-[800px] text-left border-collapse">
                <thead>
                    <tr class="bg-slate-50 border-b border-slate-200 text-xs uppercase text-slate-500 font-bold tracking-wider">
                        <th class="p-5 w-24">주차</th>
                        <th class="p-5 w-32">단계</th>
                        <th class="p-5 w-1/4">주요 업무 (Key Activity)</th>
                        <th class="p-5">상세 내역 (Details)</th>
                        <th class="p-5 w-1/4">필요 키트 & 산출물 (Deliverables)</th>
                    </tr>
                </thead>
                <tbody id="table-body" class="divide-y divide-slate-100">
                    <!-- JS will populate rows here -->
                </tbody>
            </table>
        </div>

        <!-- Visual Timeline Summary (Footer) -->
        <div class="p-8 bg-slate-50 border-t border-slate-200">
            <h3 class="text-sm font-bold text-slate-500 uppercase tracking-wide mb-4 flex items-center gap-2">
                <i data-lucide="flag" class="w-4 h-4"></i>
                Project Roadmap Summary
            </h3>
            <div class="relative flex items-center justify-between w-full mt-6 px-2">
                <!-- Progress Line -->
                <div class="absolute top-1/2 left-0 w-full h-1 bg-slate-200 -z-10 rounded-full"></div>
                
                <!-- Timeline Points (Static for visualization) -->
                <div class="flex flex-col items-center bg-slate-50 px-2 z-10">
                    <div class="w-4 h-4 rounded-full border-2 bg-blue-500 border-blue-500"></div>
                    <div class="mt-2 text-xs font-bold text-slate-700">0W</div>
                    <div class="text-[10px] text-slate-500 font-medium hidden md:block mt-1">계약/착수</div>
                </div>
                <div class="flex flex-col items-center bg-slate-50 px-2 z-10">
                    <div class="w-4 h-4 rounded-full border-2 bg-blue-500 border-blue-500"></div>
                    <div class="mt-2 text-xs font-bold text-slate-700">3W</div>
                    <div class="text-[10px] text-slate-500 font-medium hidden md:block mt-1">온보딩</div>
                </div>
                <div class="flex flex-col items-center bg-slate-50 px-2 z-10">
                    <div class="w-4 h-4 rounded-full border-2 bg-white border-slate-300"></div>
                    <div class="mt-2 text-xs font-bold text-slate-700">4W</div>
                    <div class="text-[10px] text-slate-500 font-medium hidden md:block mt-1">1차 배포</div>
                </div>
                <div class="flex flex-col items-center bg-slate-50 px-2 z-10">
                    <div class="w-4 h-4 rounded-full border-2 bg-white border-slate-300"></div>
                    <div class="mt-2 text-xs font-bold text-slate-700">6W</div>
                    <div class="text-[10px] text-slate-500 font-medium hidden md:block mt-1">1.5차 배포</div>
                </div>
                <div class="flex flex-col items-center bg-slate-50 px-2 z-10">
                    <div class="w-4 h-4 rounded-full border-2 bg-white border-slate-300"></div>
                    <div class="mt-2 text-xs font-bold text-slate-700">8W</div>
                    <div class="text-[10px] text-slate-500 font-medium hidden md:block mt-1">HQ 오픈</div>
                </div>
                <div class="flex flex-col items-center bg-slate-50 px-2 z-10">
                    <div class="w-4 h-4 rounded-full border-2 bg-white border-slate-300"></div>
                    <div class="mt-2 text-xs font-bold text-slate-700">12W</div>
                    <div class="text-[10px] text-slate-500 font-medium hidden md:block mt-1">Grand Open</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="max-w-6xl mx-auto mt-4 text-center text-slate-400 text-xs">
        © 2024 RestoGenie Corp. All rights reserved.
    </div>

    <script>
        // Data Source
        const wbsData = [
            {
                id: 1,
                phase: '사전 준비',
                phaseType: 'prep',
                week: '0주차',
                title: '계약 및 행정 절차',
                description: '프로젝트 착수를 위한 계약 및 필수 서류 확보',
                tasks: ['계약서 날인 및 교환', 'NDA(비밀유지서약서) 체결', '사업자등록증 및 통장 사본 수취'],
                kits: ['계약서', 'NDA', '사업자/통장사본']
            },
            {
                id: 2,
                phase: '온보딩',
                phaseType: 'onboarding',
                week: '1주차',
                title: '기본 정보 취득 & 요구사항 정의',
                description: '계정, 연동, 매뉴얼 등 기본 정보 취득 및 정리',
                tasks: ['기본 계정 및 API 정보 수집', '매장 및 테스트 매장 정보 확보', '기존 매뉴얼 및 담당자 소통 채널 확립', '요구사항 정의서 작성'],
                kits: ['요구사항 정의서 (계정, API, 매장정보 등)', '초기 WBS']
            },
            {
                id: 3,
                phase: '온보딩',
                phaseType: 'onboarding',
                week: '2주차',
                title: '니즈 분석 & 기본 연동',
                description: '개발 화면에 대한 고객사 니즈 정리 및 기본 연동 시작',
                tasks: ['기본 연동 작업 수행', '고객사 니즈와 자사 솔루션 간 Gap 분석', '업무 진척 상황 공유'],
                kits: ['업무 진척 보고서', 'WBS 업데이트 (V1.1)']
            },
            {
                id: 4,
                phase: '온보딩',
                phaseType: 'onboarding',
                week: '3주차',
                title: '모니터링 & Ideal 니즈 도출',
                description: '이탈 방지를 위한 동석 모니터링 및 핵심 니즈 구체화',
                tasks: ['현장 동석 모니터링 (사용률 증대)', 'Ideal 니즈(핵심 요구사항) 정리 및 확정', '본사/가맹점주별 리포트 작성'],
                kits: ['고객사 온보딩 리포트 (직급/규모별)', '업무 진척 보고서', 'WBS 업데이트 (Final)']
            },
            {
                id: 5,
                phase: '개발/배포',
                phaseType: 'dev',
                week: '4주차',
                title: '1차 배포 (Demo)',
                description: '데모 화면 배포 및 개발 요건 합의',
                tasks: ['데모 버전 배포', '핵심 개발 요건 최종 합의', '피드백 수렴'],
                kits: ['1차 데모 버전', '요건 합의서']
            },
            {
                id: 6,
                phase: '개발/배포',
                phaseType: 'dev',
                week: '6주차',
                title: '1.5차 배포 (기능 추가)',
                description: '데모 화면 기능 고도화 및 협의',
                tasks: ['협의된 추가 기능 구현 및 배포', 'UI/UX 개선 사항 반영', '중간 점검 미팅'],
                kits: ['1.5차 배포 버전', '기능 명세서 수정본']
            },
            {
                id: 7,
                phase: '개발/배포',
                phaseType: 'dev',
                week: '8주차',
                title: '2차 배포 (HQ 기능 오픈)',
                description: 'HQ 기본 기능 오픈 (B2B 화면 기획 반영)',
                tasks: ['HQ 어드민 핵심 기능 오픈', '실무자 대상 기능 교육', '운영 데이터 검증'],
                kits: ['HQ 어드민 매뉴얼', '운영 가이드']
            },
            {
                id: 8,
                phase: '개발/배포',
                phaseType: 'dev',
                week: '12주차',
                title: '3차 배포 (Grand Open)',
                description: '최종 커스텀 니즈 반영 및 가맹점주 화면 오픈',
                tasks: ['최종 커스텀 기능 반영', '가맹점주용 모바일/PC 화면 오픈', '프로젝트 종료 및 운영 이관'],
                kits: ['최종 산출물', '가맹점주 매뉴얼', '완료 보고서']
            }
        ];

        // Helper Functions
        function getPhaseColor(type) {
            switch(type) {
                case 'prep': return 'bg-gray-100 text-gray-600 border-gray-200';
                case 'onboarding': return 'bg-blue-50 text-blue-600 border-blue-200';
                case 'dev': return 'bg-indigo-50 text-indigo-600 border-indigo-200';
                default: return 'bg-gray-50 text-gray-600';
            }
        }

        // Render Function
        function renderTable(filter = 'all') {
            const tbody = document.getElementById('table-body');
            tbody.innerHTML = ''; // Clear existing content

            const filteredData = filter === 'all' 
                ? wbsData 
                : wbsData.filter(item => item.phaseType === filter);

            filteredData.forEach(row => {
                const tr = document.createElement('tr');
                tr.className = 'hover:bg-slate-50/80 transition-colors group border-b border-slate-100';
                
                // Generate Tasks HTML
                const tasksHtml = row.tasks.map(task => `
                    <li class="flex items-start gap-2 text-sm text-slate-600 mb-2">
                        <i data-lucide="check-circle" class="w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"></i>
                        <span>${task}</span>
                    </li>
                `).join('');

                // Generate Kits HTML
                const kitsHtml = row.kits.map(kit => `
                    <div class="flex items-center gap-2 bg-white border border-slate-200 shadow-sm rounded-md px-3 py-2 text-sm text-slate-700 hover:border-blue-300 hover:shadow-md transition-all cursor-default mb-2">
                        <i data-lucide="file-text" class="w-3.5 h-3.5 text-blue-500 flex-shrink-0"></i>
                        <span class="truncate">${kit}</span>
                    </div>
                `).join('');

                tr.innerHTML = `
                    <td class="p-5 align-top">
                        <div class="flex items-center gap-2 font-bold text-slate-700">
                            <i data-lucide="calendar" class="w-4 h-4 text-slate-400"></i>
                            ${row.week}
                        </div>
                    </td>
                    <td class="p-5 align-top">
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getPhaseColor(row.phaseType)}">
                            ${row.phase}
                        </span>
                    </td>
                    <td class="p-5 align-top">
                        <div class="font-bold text-slate-800 text-lg mb-1">${row.title}</div>
                        <div class="text-sm text-slate-500 leading-relaxed">${row.description}</div>
                    </td>
                    <td class="p-5 align-top">
                        <ul class="space-y-2">
                            ${tasksHtml}
                        </ul>
                    </td>
                    <td class="p-5 align-top bg-slate-50/30">
                        <div class="flex flex-col gap-1">
                            ${kitsHtml}
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });

            // Re-initialize icons for newly added elements
            lucide.createIcons();
        }

        // Tab Handling
        function filterData(type) {
            // Update Tab Styles
            document.querySelectorAll('.tab-btn').forEach(btn => {
                if (btn.dataset.tab === type) {
                    btn.className = 'tab-btn pb-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 border-blue-600 text-blue-600';
                } else {
                    btn.className = 'tab-btn pb-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2 border-transparent text-slate-500 hover:text-slate-700';
                }
            });

            // Render Table
            renderTable(type);
        }

        // Initial Render
        document.addEventListener('DOMContentLoaded', () => {
            renderTable('all');
            lucide.createIcons();
        });
    </script>
</body>
</html>
